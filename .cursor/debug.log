{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766462636547}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766462636548}
{"data":{"timestamp":1766462636548},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766462636549},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766462636549},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766462636549},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766462636549},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger.html","pathLen":13,"rawPath":"","timestamp":1766462648008,"url":"/swagger.html"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","pathLen":12,"rawPath":"","timestamp":1766462648127,"url":"/favicon.ico"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","timestamp":1766462648128},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766462657235,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766462657235},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766462657236},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766462714495,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger.html","pathLen":13,"rawPath":"","timestamp":1766462722806,"url":"/swagger.html"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766462732751,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766462732752},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766462732752},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger.htm","pathLen":12,"rawPath":"","timestamp":1766462741431,"url":"/swagger.htm"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger.htm","timestamp":1766462741432},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","pathLen":12,"rawPath":"","timestamp":1766462741569,"url":"/favicon.ico"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","timestamp":1766462741569},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766462741751,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766462741752},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/docs/api/openapi-ru.yaml","pathLen":25,"rawPath":"","timestamp":1766462746441,"url":"/docs/api/openapi-ru.yaml"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/docs/api/openapi-ru.yaml","timestamp":1766462746442},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","pathLen":12,"rawPath":"","timestamp":1766462746516,"url":"/favicon.ico"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","timestamp":1766462746516},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766462747739,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766462747739},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766462747740},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","pathLen":12,"rawPath":"","timestamp":1766462748466,"url":"/favicon.ico"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","timestamp":1766462748471},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"HEAD","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766462758601,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"HEAD","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766462758602},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":false,"isHead":true,"isOptions":false,"method":"HEAD","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766462758602},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger.html","pathLen":13,"rawPath":"","timestamp":1766462792522,"url":"/swagger.html"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","pathLen":12,"rawPath":"","timestamp":1766462799499,"url":"/favicon.ico"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","timestamp":1766462799499},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766462809335,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766462809335},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766462809336},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766462834888,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766462834889},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766463139053}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766463139054}
{"data":{"timestamp":1766463139054},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766463139054},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766463139054},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766463139054},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766463139055},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/health","pathLen":7,"rawPath":"","timestamp":1766464897332,"url":"/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/health","timestamp":1766464897333},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766476342759,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766476342760},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766476342760},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766476342761},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","pathLen":12,"rawPath":"","timestamp":1766476343161,"url":"/favicon.ico"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","timestamp":1766476343161},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766476394020,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766476394020},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766476394020},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766476394021},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","pathLen":12,"rawPath":"","timestamp":1766476394186,"url":"/favicon.ico"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","timestamp":1766476394187},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766476404131,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766476404131},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766476404131},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766476404131},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","pathLen":12,"rawPath":"","timestamp":1766476404453,"url":"/favicon.ico"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","timestamp":1766476404453},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766476412864,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766476412864},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766476412865},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766476412865},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766476413407,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766476413408},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766476413408},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766476414138,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766476414139},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766476414139},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766476414140},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","pathLen":12,"rawPath":"","timestamp":1766476414587,"url":"/favicon.ico"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","timestamp":1766476414587},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766476424128,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766476424128},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766476424129},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766476424129},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","pathLen":12,"rawPath":"","timestamp":1766476424399,"url":"/favicon.ico"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","timestamp":1766476424400},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger-ui","pathLen":11,"rawPath":"","timestamp":1766476425293,"url":"/swagger-ui"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger-ui","timestamp":1766476425293},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766476425294},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766476425294},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","pathLen":12,"rawPath":"","timestamp":1766476425516,"url":"/favicon.ico"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","timestamp":1766476425516},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766476431119,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766476431120},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766476431120},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766476431121},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","pathLen":12,"rawPath":"","timestamp":1766476431294,"url":"/favicon.ico"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","timestamp":1766476431294},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766476438203,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766476438203},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766476438203},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","pathLen":12,"rawPath":"","timestamp":1766476438502,"url":"/favicon.ico"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/favicon.ico","timestamp":1766476438502},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766476475367,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766476475368},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766476475368},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766476475368},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766476528112,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766476528112},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766476528112},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766476528113},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766476537589,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766476537589},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766476537589},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766476640569,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766476640570},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766476640571},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766476640571},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766476712774,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766476712775},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766476712775},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766476712775},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766476742193,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766476742194},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766476742194},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766476742194},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"HEAD","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766476757739,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"HEAD","path":"/swagger","timestamp":1766476757740},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766477085549}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766477085551}
{"data":{"timestamp":1766477085551},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766477085552},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766477085553},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766477085553},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766477085553},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766477100224,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766477397625,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766477397625},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766477397625},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766477397626},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766477397745,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766477397746},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766477397746},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766477417284,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766477420756,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766477421558,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766477422190,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766477422731,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766480061607,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766480061608},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766480794029,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766480794029},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766480794029},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766480794029},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766480794551,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766480794553},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766480794553},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/test","pathLen":15,"rawPath":"","timestamp":1766480804880,"url":"/api/email/test"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/test","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766480804880},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/test","pathLen":15,"rawPath":"","timestamp":1766480809438,"url":"/api/email/test"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/test","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766480809440},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766481110799}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766481110800}
{"data":{"timestamp":1766481110800},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766481110800},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766481110801},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766481110801},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766481110801},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766481120300,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766481122564,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766481122564},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766481122564},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766481122564},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766481122975,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766481122976},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766481122976},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766481125039,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/test","pathLen":15,"rawPath":"","timestamp":1766481127504,"url":"/api/email/test"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/test","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766481127504},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766481147378}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766481147379}
{"data":{"timestamp":1766481147379},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766481147380},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766481147380},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766481147380},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766481147381},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766481153895,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766481158144,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766481158144},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766481158144},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766481158144},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766481158644,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766481158645},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766481158645},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/test","pathLen":15,"rawPath":"","timestamp":1766481163686,"url":"/api/email/test"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/test","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766481163687},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766481407564}
{"data":{"gmailCredsLength":73,"gmailCredsSet":true,"gmailCredsValue":"/c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766481407565}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766481407565}
{"data":{"gmailCredsLength":73,"gmailCredsSet":true,"gmailCredsValue":"/c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766481407566}
{"data":{"credentialsPath":"/c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json","fileExists":false,"isFile":false,"statError":"CreateFile /c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json: The system cannot find the path specified."},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766481407566}
{"data":{"credentialsPath":"/c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json","jsonLength":73,"statError":"CreateFile /c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json: The system cannot find the path specified."},"hypothesisId":"H2","location":"gmail.go:NewGmailSender","message":"Treating credentials as JSON string (file not found)","runId":"run1","sessionId":"debug-session","timestamp":1766481407567}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766481407567}
{"data":{"gmailCredsLength":73,"gmailCredsSet":true,"gmailCredsValue":"/c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766481407567}
{"data":{"credentialsPath":"/c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json","fileExists":false,"isFile":false,"statError":"CreateFile /c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json: The system cannot find the path specified."},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766481407567}
{"data":{"credentialsPath":"/c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json","jsonLength":73,"statError":"CreateFile /c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json: The system cannot find the path specified."},"hypothesisId":"H2","location":"gmail.go:NewGmailSender","message":"Treating credentials as JSON string (file not found)","runId":"run1","sessionId":"debug-session","timestamp":1766481407568}
{"data":{"error":"failed to parse Gmail credentials (tried JWT and OAuth2): invalid character '/' looking for beginning of value"},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender creation failed","runId":"run1","sessionId":"debug-session","timestamp":1766481407568}
{"data":{"gmailCredsLength":73,"gmailCredsSet":true,"gmailCredsValue":"/c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766481407568}
{"data":{"credentialsPath":"/c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json","fileExists":false,"isFile":false,"statError":"CreateFile /c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json: The system cannot find the path specified."},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766481407568}
{"data":{"credentialsPath":"/c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json","jsonLength":73,"statError":"CreateFile /c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json: The system cannot find the path specified."},"hypothesisId":"H2","location":"gmail.go:NewGmailSender","message":"Treating credentials as JSON string (file not found)","runId":"run1","sessionId":"debug-session","timestamp":1766481407568}
{"data":{"gmailCredsLength":73,"gmailCredsSet":true,"gmailCredsValue":"/c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766481407569}
{"data":{"credentialsPath":"/c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json","fileExists":false,"isFile":false,"statError":"CreateFile /c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json: The system cannot find the path specified."},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766481407569}
{"data":{"credentialsPath":"/c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json","jsonLength":73,"statError":"CreateFile /c/Users/Alexey/AppData/Local/Temp/gmail-credentials-20251223-030746.json: The system cannot find the path specified."},"hypothesisId":"H2","location":"gmail.go:NewGmailSender","message":"Treating credentials as JSON string (file not found)","runId":"run1","sessionId":"debug-session","timestamp":1766481407569}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766481407569}
{"data":{"timestamp":1766481407569},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766481407570},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766481407571},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766481407571},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766481407571},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766481448555,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766481448556},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766481448556},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766481448557},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766481449117,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766481449118},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766481449118},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/test","pathLen":15,"rawPath":"","timestamp":1766481456431,"url":"/api/email/test"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/test","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766481456432},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766481862104}
{"data":{"gmailCredsLength":43,"gmailCredsSet":true,"gmailCredsValue":"/tmp/gmail-credentials-20251223-032331.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766481862105}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766481862105}
{"data":{"gmailCredsLength":43,"gmailCredsSet":true,"gmailCredsValue":"/tmp/gmail-credentials-20251223-032331.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766481862106}
{"data":{"credentialsPath":"/tmp/gmail-credentials-20251223-032331.json","fileExists":false,"isFile":false,"statError":"CreateFile /tmp/gmail-credentials-20251223-032331.json: The system cannot find the path specified."},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766481862107}
{"data":{"credentialsPath":"/tmp/gmail-credentials-20251223-032331.json","jsonLength":43,"statError":"CreateFile /tmp/gmail-credentials-20251223-032331.json: The system cannot find the path specified."},"hypothesisId":"H2","location":"gmail.go:NewGmailSender","message":"Treating credentials as JSON string (file not found)","runId":"run1","sessionId":"debug-session","timestamp":1766481862107}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766481862108}
{"data":{"gmailCredsLength":43,"gmailCredsSet":true,"gmailCredsValue":"/tmp/gmail-credentials-20251223-032331.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766481862108}
{"data":{"credentialsPath":"/tmp/gmail-credentials-20251223-032331.json","fileExists":false,"isFile":false,"statError":"CreateFile /tmp/gmail-credentials-20251223-032331.json: The system cannot find the path specified."},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766481862108}
{"data":{"credentialsPath":"/tmp/gmail-credentials-20251223-032331.json","jsonLength":43,"statError":"CreateFile /tmp/gmail-credentials-20251223-032331.json: The system cannot find the path specified."},"hypothesisId":"H2","location":"gmail.go:NewGmailSender","message":"Treating credentials as JSON string (file not found)","runId":"run1","sessionId":"debug-session","timestamp":1766481862108}
{"data":{"error":"failed to parse Gmail credentials (tried JWT and OAuth2): invalid character '/' looking for beginning of value"},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender creation failed","runId":"run1","sessionId":"debug-session","timestamp":1766481862108}
{"data":{"gmailCredsLength":43,"gmailCredsSet":true,"gmailCredsValue":"/tmp/gmail-credentials-20251223-032331.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766481862109}
{"data":{"credentialsPath":"/tmp/gmail-credentials-20251223-032331.json","fileExists":false,"isFile":false,"statError":"CreateFile /tmp/gmail-credentials-20251223-032331.json: The system cannot find the path specified."},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766481862109}
{"data":{"credentialsPath":"/tmp/gmail-credentials-20251223-032331.json","jsonLength":43,"statError":"CreateFile /tmp/gmail-credentials-20251223-032331.json: The system cannot find the path specified."},"hypothesisId":"H2","location":"gmail.go:NewGmailSender","message":"Treating credentials as JSON string (file not found)","runId":"run1","sessionId":"debug-session","timestamp":1766481862109}
{"data":{"gmailCredsLength":43,"gmailCredsSet":true,"gmailCredsValue":"/tmp/gmail-credentials-20251223-032331.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766481862109}
{"data":{"credentialsPath":"/tmp/gmail-credentials-20251223-032331.json","fileExists":false,"isFile":false,"statError":"CreateFile /tmp/gmail-credentials-20251223-032331.json: The system cannot find the path specified."},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766481862109}
{"data":{"credentialsPath":"/tmp/gmail-credentials-20251223-032331.json","jsonLength":43,"statError":"CreateFile /tmp/gmail-credentials-20251223-032331.json: The system cannot find the path specified."},"hypothesisId":"H2","location":"gmail.go:NewGmailSender","message":"Treating credentials as JSON string (file not found)","runId":"run1","sessionId":"debug-session","timestamp":1766481862110}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766481862110}
{"data":{"timestamp":1766481862110},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766481862110},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766481862110},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766481862110},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766481862111},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766481866702,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/test","pathLen":15,"rawPath":"","timestamp":1766481870886,"url":"/api/email/test"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/test","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766481870886},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766481938025}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766481938026}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766481938026}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766481938027}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766481938027}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766481938027}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766481938027}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766481938027}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766481938028}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766481938028}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766481938028}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766481938028}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766481938028}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766481938029}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766481938029}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766481938030}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766481938030}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766481938030}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766481938030}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766481938031}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766481938031}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766481938031}
{"data":{"timestamp":1766481938031},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766481938031},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766481938032},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766481938032},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766481938032},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766481941786,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/test","pathLen":15,"rawPath":"","timestamp":1766481942526,"url":"/api/email/test"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/test","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766481942527},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766481946233,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766481946234},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766481946234},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766481946234},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766481946718,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766481946719},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766481946719},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/test","pathLen":15,"rawPath":"","timestamp":1766481954213,"url":"/api/email/test"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/test","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766481954213},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/test","pathLen":15,"rawPath":"","timestamp":1766481973098,"url":"/api/email/test"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/test","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766481973098},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/test","pathLen":15,"rawPath":"","timestamp":1766481991108,"url":"/api/email/test"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/test","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766481991109},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/test","pathLen":15,"rawPath":"","timestamp":1766482034507,"url":"/api/email/test"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/test","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766482034508},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766482049357}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766482049358}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766482049358}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766482049359}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766482049359}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766482049359}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766482049359}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766482049360}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766482049360}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766482049360}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766482049360}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766482049360}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766482049361}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766482049362}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766482049362}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766482049362}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766482049362}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766482049362}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766482049363}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766482049363}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766482049363}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766482049363}
{"data":{"timestamp":1766482049364},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766482049364},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766482049364},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766482049365},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766482049365},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766482054816,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/test","pathLen":15,"rawPath":"","timestamp":1766482054851,"url":"/api/email/test"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/test","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766482054852},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"emailClientIsNil":true,"gmailSenderIsNil":false},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:HandleTest","message":"Checking email service availability","runId":"run1","sessionId":"debug-session","timestamp":1766482054852}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766482071380,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766482071380},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766482071380},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766482071381},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766482071741,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766482071741},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766482071741},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/test","pathLen":15,"rawPath":"","timestamp":1766482073613,"url":"/api/email/test"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/test","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766482073613},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"emailClientIsNil":true,"gmailSenderIsNil":false},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:HandleTest","message":"Checking email service availability","runId":"run1","sessionId":"debug-session","timestamp":1766482073613}
{"data":{"method":"POST","path":"/api/email/test","pathLen":15,"rawPath":"","timestamp":1766482771896,"url":"/api/email/test"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/test","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766482771897},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"emailClientIsNil":true,"gmailSenderIsNil":false},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:HandleTest","message":"Checking email service availability","runId":"run1","sessionId":"debug-session","timestamp":1766482771897}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766482782076,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766482782076},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766482805955}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766482805955}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766482805955}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766482805956}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766482805956}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766482805957}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766482805958}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766482805959}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766482805959}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766482805959}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766482805959}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766482805960}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766482805960}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766482805960}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766482805961}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766482805961}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766482805961}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766482805961}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766482805962}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766482805962}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766482805962}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766482805963}
{"data":{"timestamp":1766482805963},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766482805963},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766482805963},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766482805963},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766482805964},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/test","pathLen":15,"rawPath":"","timestamp":1766482812424,"url":"/api/email/test"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/test","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766482812424},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"emailClientIsNil":true,"gmailSenderIsNil":false},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:HandleTest","message":"Checking email service availability","runId":"run1","sessionId":"debug-session","timestamp":1766482812424}
{"data":{"method":"POST","path":"/api/email/test","pathLen":15,"rawPath":"","timestamp":1766482813033,"url":"/api/email/test"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/test","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766482813034},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"emailClientIsNil":true,"gmailSenderIsNil":false},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:HandleTest","message":"Checking email service availability","runId":"run1","sessionId":"debug-session","timestamp":1766482813034}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766482813133,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766482813134},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766482873103,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766482873103},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766483060419,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766483060419},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766483135241}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766483135242}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766483135242}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766483135243}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766483135243}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483135243}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483135243}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766483135244}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766483135244}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766483135244}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483135244}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483135244}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766483135244}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766483135245}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766483135245}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483135245}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483135245}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766483135246}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766483135246}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483135247}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483135247}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766483135247}
{"data":{"timestamp":1766483135247},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766483135247},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766483135248},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766483135248},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766483135248},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766483139591,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766483139592},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766483184415}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766483184416}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766483184416}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766483184417}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766483184418}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483184418}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483184418}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766483184418}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766483184419}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766483184419}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483184419}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483184419}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766483184419}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766483184420}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766483184421}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483184421}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483184421}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766483184422}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766483184422}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483184422}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483184422}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766483184422}
{"data":{"timestamp":1766483184423},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766483184423},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766483184423},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766483184423},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766483184424},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766483188775,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766483188776},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766483232296,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766483232296},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766483260007}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766483260008}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766483260008}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766483260010}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766483260010}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483260010}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483260011}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766483260011}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766483260011}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766483260012}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483260012}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483260012}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766483260012}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766483260013}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766483260013}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483260014}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483260014}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766483260014}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766483260014}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483260015}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483260015}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766483260015}
{"data":{"timestamp":1766483260015},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766483260016},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766483260016},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766483260016},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766483260016},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766483263943,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766483263944},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766483335681}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766483335681}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766483335681}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766483335682}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766483335682}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483335683}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483335683}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766483335684}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766483335684}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766483335684}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483335685}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483335685}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766483335686}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766483335687}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766483335687}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483335687}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483335688}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766483335688}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766483335689}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483335689}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766483335689}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766483335689}
{"data":{"timestamp":1766483335690},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766483335690},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766483335690},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766483335690},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766483335690},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766483340172,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766483340173},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766483388268,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766483388268},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766483388268},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766483388269},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766483388793,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766483388794},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766483388794},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766483399515,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766483399516},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766486254850}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766486254851}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766486254851}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766486254851}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766486254852}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766486254852}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766486254852}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766486254853}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766486254853}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766486254853}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766486254853}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766486254853}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766486254855}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766486254855}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766486254855}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766486254855}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766486254855}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766486254856}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766486254856}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766486254856}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766486254857}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766486254857}
{"data":{"timestamp":1766486254857},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766486254857},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766486254857},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766486254858},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766486254858},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766486258987,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766486258987},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766486272338,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766486272339},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766486284446,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766486284447},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766486698082}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766486698083}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766486698083}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766486698084}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766486698085}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766486698085}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766486698085}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766486698086}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766486698087}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766486698087}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766486698087}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766486698087}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766486698088}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766486698088}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766486698088}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766486698088}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766486698089}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766486698089}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766486698090}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766486698090}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766486698090}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766486698090}
{"data":{"timestamp":1766486698090},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766486698091},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766486698091},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766486698091},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766486698091},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766486714477,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766486714477},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766486756159,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766486756159},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766486756159},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766486756160},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766486756584,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766486756585},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766486756585},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766487050082,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766487050082},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766487050082},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766487050082},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766487050468,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766487050469},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766487050469},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766487498585,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766487498585},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766487498585},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766487498585},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766487499309,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766487499309},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766487499310},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766487565747}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766487565748}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766487565749}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766487565750}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766487565750}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766487565750}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766487565751}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766487565752}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766487565752}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766487565753}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766487565753}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766487565754}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766487565754}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766487565755}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766487565755}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766487565756}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766487565756}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766487565757}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766487565757}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766487565757}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766487565757}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766487565758}
{"data":{"timestamp":1766487565758},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766487565758},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766487565759},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766487565760},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766487565760},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766487569750,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766487606080,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766487606081},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766487606081},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766487606081},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766487606535,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766487606536},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766487606536},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766487958738}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766487958738}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766487958738}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766487958739}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766487958739}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766487958740}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766487958740}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766487958741}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766487958741}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766487958741}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766487958741}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766487958742}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766487958742}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766487958743}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766487958743}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766487958744}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766487958744}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766487958744}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766487958744}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766487958745}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766487958745}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766487958745}
{"data":{"timestamp":1766487958746},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766487958746},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766487958747},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766487958747},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766487958748},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766487962373,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766488015844,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766488015844},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766488015845},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766488015845},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766488016317,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766488016318},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766488016318},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice","pathLen":25,"rawPath":"","timestamp":1766488292393,"url":"/api/stripe/final-invoice"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766488292394},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice","pathLen":25,"rawPath":"","timestamp":1766488404904,"url":"/api/stripe/final-invoice"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766488404905},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice","pathLen":25,"rawPath":"","timestamp":1766488434797,"url":"/api/stripe/final-invoice"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766488434798},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766488643256}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766488643257}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766488643257}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766488643258}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766488643258}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488643259}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488643259}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766488643259}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766488643259}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766488643260}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488643260}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488643260}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766488643260}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766488643261}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766488643261}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488643261}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488643261}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766488643262}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766488643262}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488643262}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488643262}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766488643263}
{"data":{"timestamp":1766488643263},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766488643263},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766488643263},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766488643263},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766488643264},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766488650416,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766488667613,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766488667613},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766488667613},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766488667613},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766488668287,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766488668287},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766488668287},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice","pathLen":25,"rawPath":"","timestamp":1766488674582,"url":"/api/stripe/final-invoice"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766488674583},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766488786074}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766488786075}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766488786075}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766488786076}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766488786076}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488786076}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488786077}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766488786077}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766488786077}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766488786078}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488786078}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488786078}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766488786078}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766488786078}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766488786079}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488786079}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488786079}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766488786079}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766488786080}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488786080}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488786080}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766488786080}
{"data":{"timestamp":1766488786080},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766488786080},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766488786081},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766488786081},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766488786081},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766488790781,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766488839514,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766488839514},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766488839515},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766488839516},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766488839950,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766488839951},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766488839951},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice","pathLen":25,"rawPath":"","timestamp":1766488858994,"url":"/api/stripe/final-invoice"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766488858995},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766488986254}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766488986254}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766488986255}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766488986255}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766488986256}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488986256}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488986256}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766488986257}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766488986257}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766488986258}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488986258}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488986258}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766488986258}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766488986258}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766488986259}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488986259}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488986259}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766488986259}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766488986259}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488986259}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766488986260}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766488986260}
{"data":{"timestamp":1766488986260},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766488986260},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766488986261},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766488986261},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766488986261},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766488990188,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice","pathLen":25,"rawPath":"","timestamp":1766489083833,"url":"/api/stripe/final-invoice"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766489083834},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766489690141}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766489690141}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766489690141}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766489690142}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766489690143}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766489690143}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766489690143}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766489690143}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766489690143}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766489690144}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766489690144}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766489690144}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766489690144}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766489690145}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766489690145}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766489690145}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766489690145}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766489690146}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766489690146}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766489690146}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766489690147}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766489690147}
{"data":{"timestamp":1766489690147},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766489690147},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766489690147},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766489690147},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766489690148},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766489694252,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766489721024,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766489721025},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766489721025},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766489721025},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766489721464,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766489721465},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766489721465},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766489754357,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766489754358},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766489754358},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766489754358},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766489754779,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766489754780},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766489754780},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766489794511}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766489794511}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766489794512}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766489794513}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766489794513}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766489794514}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766489794514}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766489794515}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766489794515}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766489794515}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766489794515}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766489794516}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766489794516}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766489794516}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766489794517}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766489794517}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766489794518}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766489794519}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766489794519}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766489794519}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766489794519}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766489794519}
{"data":{"timestamp":1766489794519},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766489794520},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766489794520},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766489794521},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766489794522},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766489802373,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766489885234,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766489885235},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766489885235},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766489885235},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766489885672,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766489885673},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766489885673},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766490424752}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766490424753}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766490424754}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766490424755}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766490424755}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766490424755}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766490424756}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766490424757}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766490424757}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766490424757}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766490424758}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766490424759}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766490424760}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766490424761}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766490424762}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766490424762}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766490424762}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766490424763}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766490424763}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766490424764}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766490424764}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766490424764}
{"data":{"timestamp":1766490424765},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766490424765},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766490424766},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766490424766},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766490424766},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766490428949,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766490483771,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766490483772},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766490483772},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766490483772},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766490484203,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766490484203},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766490484204},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766490501460,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766490501460},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766490537634,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766490537635},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/","pathLen":1,"rawPath":"","timestamp":1766492268391,"url":"/"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/","timestamp":1766492268391},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/HNAP1/","pathLen":7,"rawPath":"","timestamp":1766492279418,"url":"/HNAP1/"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/HNAP1/","timestamp":1766492279419},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/","pathLen":1,"rawPath":"","timestamp":1766492281617,"url":"/"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/","timestamp":1766492281618},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/loginMsg.js","pathLen":12,"rawPath":"","timestamp":1766492282079,"url":"/loginMsg.js"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/loginMsg.js","timestamp":1766492282080},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/cgi/get.cgi","pathLen":12,"rawPath":"","timestamp":1766492282084,"url":"/cgi/get.cgi?cmd=home_login"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/cgi/get.cgi","timestamp":1766492282084},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766492693520}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766492693520}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766492693520}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766492693521}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766492693522}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766492693522}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766492693522}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766492693522}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766492693522}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766492693523}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766492693523}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766492693523}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766492693523}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766492693524}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766492693524}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766492693524}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766492693525}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766492693525}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766492693525}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766492693525}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766492693525}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766492693526}
{"data":{"timestamp":1766492693526},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766492693526},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766492693527},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766492693527},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766492693528},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766492698044,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766492712463,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766492712464},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766492712465},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766492712466},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766492713133,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766492713134},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766492713134},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766492930587}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766492930588}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766492930588}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766492930589}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766492930590}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766492930590}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766492930590}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766492930590}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766492930590}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766492930590}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766492930591}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766492930591}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766492930591}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766492930592}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766492930592}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766492930592}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766492930593}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766492930593}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766492930593}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766492930593}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766492930594}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766492930594}
{"data":{"timestamp":1766492930594},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766492930595},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766492930595},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766492930595},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766492930596},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766492935321,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766493005551,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766493005552},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766493005553},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766493005553},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766493006014,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766493006014},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766493006016},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766493045354,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766493045355},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766493045355},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766493045355},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766493046259,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766493046259},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766493046260},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766493139733}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766493139734}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766493139734}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766493139735}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766493139736}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493139736}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493139736}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766493139737}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766493139737}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766493139737}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493139737}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493139737}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766493139738}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766493139739}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766493139739}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493139739}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493139740}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766493139741}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766493139741}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493139741}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493139741}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766493139741}
{"data":{"timestamp":1766493139742},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766493139742},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766493139742},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766493139742},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766493139742},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766493143700,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766493228858}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766493228859}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766493228859}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766493228860}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766493228860}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493228860}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493228861}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766493228861}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766493228861}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766493228861}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493228861}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493228861}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766493228862}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766493228862}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766493228862}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493228863}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493228863}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766493228863}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766493228864}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493228864}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493228864}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766493228865}
{"data":{"timestamp":1766493228865},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766493228865},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766493228866},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766493228866},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766493228866},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766493233363,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766493277959,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766493277959},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766493277960},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766493277960},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766493278304,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766493278304},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766493278305},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766493315892,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766493315892},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766493389624,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766493389624},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766493543780}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766493543780}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766493543781}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766493543781}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766493543782}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493543782}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493543782}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766493543782}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766493543783}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766493543783}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493543783}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493543783}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766493543784}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766493543785}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766493543786}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493543786}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493543786}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766493543787}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766493543787}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493543787}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766493543788}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766493543788}
{"data":{"timestamp":1766493543789},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766493543789},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766493543789},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766493543790},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766493543790},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766493547582,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766493597375,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766493597375},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766493597375},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766493597375},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766493597783,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766493597785},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766493597785},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766493609707,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766493609707},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766493848451,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766493848571},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766493848571},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766493848571},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766493848941,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766493848941},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766493848941},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766493858324,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766493858325},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766494181457}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766494181457}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766494181458}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766494181458}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766494181459}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766494181459}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766494181459}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766494181460}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766494181460}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766494181460}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766494181461}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766494181461}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766494181461}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766494181462}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766494181462}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766494181462}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766494181463}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766494181463}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766494181463}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766494181463}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766494181463}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766494181463}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766494181464}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766494181464}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766494181464}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766494181465}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766494181465}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766494181466}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766494181466}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766494181466}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766494181466}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766494181466}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766494181467}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766494181467}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766494181467}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766494181467}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766494181468}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766494181468}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766494181468}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766494181469}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766494181469}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766494181469}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766494181469}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766494181469}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766494181469}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766494181470}
{"data":{"timestamp":1766494181470},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766494181470},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766494181470},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766494181470},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766494181470},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766494618405,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766494618406},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766494618406},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766494618406},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766494618845,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766494618845},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766494618845},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766494630996,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766494630996},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"Final Invoice - STL Party Helpers","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before creating draft","runId":"run1","sessionId":"debug-session","timestamp":1766494634615}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766494634616}
{"data":{"draftCreated":true,"error":"","success":true},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"After calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766494635338}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766494826373}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766494826374}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766494826374}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766494826375}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766494826376}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766494826376}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766494826377}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766494826377}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766494826377}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766494826378}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766494826378}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766494826378}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766494826378}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766494826378}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766494826379}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766494826379}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766494826379}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766494826380}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766494826380}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766494826380}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766494826380}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766494826380}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766494826381}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766494826381}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766494826381}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766494826382}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766494826382}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766494826382}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766494826382}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766494826382}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766494826383}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766494826383}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766494826383}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766494826383}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766494826383}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766494826384}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766494826384}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766494826384}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766494826384}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766494826384}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766494826384}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766494826384}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766494826384}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766494826385}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766494826385}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766494826386}
{"data":{"timestamp":1766494826386},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766494826386},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766494826386},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766494826387},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766494826387},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766495042316}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766495042316}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766495042316}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766495042317}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766495042317}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495042318}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495042318}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766495042318}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766495042318}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766495042318}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766495042318}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766495042319}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766495042319}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766495042320}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766495042320}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766495042320}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495042320}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495042320}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766495042321}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766495042321}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766495042321}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766495042321}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766495042321}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766495042322}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766495042322}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766495042322}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766495042323}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495042323}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495042323}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766495042323}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766495042323}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766495042324}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766495042324}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766495042324}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766495042324}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766495042324}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766495042324}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495042325}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495042325}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766495042325}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766495042325}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766495042325}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766495042325}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766495042326}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766495042326}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766495042326}
{"data":{"timestamp":1766495042327},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766495042327},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766495042327},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766495042328},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766495042328},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766495123546,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766495123546},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766495123547},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766495123547},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766495124018,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766495124018},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766495124018},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766495129175,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766495129176},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"hasEmailClient":false,"hasGmailSender":true,"saveAsDraft":true},"hypothesisId":"H1","location":"email_handler.go:SendFinalInvoiceEmail","message":"Before calling email service","runId":"run1","sessionId":"debug-session","timestamp":1766495132774}
{"data":{"subject":"Final Invoice - STL Party Helpers","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before creating draft","runId":"run1","sessionId":"debug-session","timestamp":1766495132774}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766495132775}
{"data":{"draftCreated":true,"error":"","success":true},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"After calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766495133487}
{"data":{"error":"","hasError":false,"hasResult":true,"resultError":"","resultSuccess":true},"hypothesisId":"H1","location":"email_handler.go:SendFinalInvoiceEmail","message":"After calling email service","runId":"run1","sessionId":"debug-session","timestamp":1766495133488}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766495329120}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766495329120}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766495329121}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766495329121}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766495329121}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495329122}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495329122}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766495329122}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766495329123}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766495329123}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766495329123}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766495329123}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766495329124}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766495329124}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766495329124}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766495329124}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495329124}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495329124}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766495329125}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766495329125}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766495329125}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766495329125}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766495329125}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766495329125}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766495329126}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766495329126}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766495329126}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495329127}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495329127}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766495329127}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766495329127}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766495329127}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766495329127}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766495329128}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766495329128}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766495329128}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766495329128}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495329128}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495329129}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766495329129}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766495329130}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766495329130}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766495329130}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766495329130}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766495329130}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766495329130}
{"data":{"timestamp":1766495329130},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766495329131},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766495329131},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766495329131},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766495329131},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766495330652,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766495463249,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766495463249},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766495463249},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766495463249},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766495463695,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766495463696},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766495463696},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766495477805,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766495477805},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"hasEmailClient":false,"hasGmailSender":true,"saveAsDraft":true},"hypothesisId":"H1","location":"email_handler.go:SendFinalInvoiceEmail","message":"Before calling email service","runId":"run1","sessionId":"debug-session","timestamp":1766495481305}
{"data":{"subject":"Final Invoice - STL Party Helpers","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before creating draft","runId":"run1","sessionId":"debug-session","timestamp":1766495481306}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766495481306}
{"data":{"draftCreated":true,"error":"","success":true},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"After calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766495482136}
{"data":{"error":"","hasError":false,"hasResult":true,"resultError":"","resultSuccess":true},"hypothesisId":"H1","location":"email_handler.go:SendFinalInvoiceEmail","message":"After calling email service","runId":"run1","sessionId":"debug-session","timestamp":1766495482137}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766495834330,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766495834330},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766495834331},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766495834331},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766495834804,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766495834804},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766495834805},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766495860246}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766495860247}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766495860247}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766495860248}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766495860248}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495860248}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495860248}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766495860248}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766495860249}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766495860249}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766495860249}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766495860249}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766495860250}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766495860250}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766495860251}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766495860251}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495860251}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495860252}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766495860252}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766495860253}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766495860253}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766495860253}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766495860253}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766495860253}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766495860254}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766495860254}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766495860255}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495860255}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495860255}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766495860255}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766495860255}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766495860255}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766495860256}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766495860256}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766495860256}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766495860257}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766495860257}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495860257}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766495860257}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766495860257}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766495860258}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766495860258}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766495860258}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766495860258}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766495860258}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766495860259}
{"data":{"timestamp":1766495860259},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766495860259},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766495860259},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766495860259},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766495860260},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766495862004,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766495886833,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766495886833},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766495886833},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766495886834},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766495887289,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766495887290},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766495887290},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766495910982,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766495910983},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"hasEmailClient":false,"hasGmailSender":true,"saveAsDraft":true},"hypothesisId":"H1","location":"email_handler.go:SendFinalInvoiceEmail","message":"Before calling email service","runId":"run1","sessionId":"debug-session","timestamp":1766495914688}
{"data":{"subject":"Final Invoice - STL Party Helpers","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before creating draft","runId":"run1","sessionId":"debug-session","timestamp":1766495914689}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766495914689}
{"data":{"draftCreated":true,"error":"","success":true},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"After calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766495915459}
{"data":{"error":"","hasError":false,"hasResult":true,"resultError":"","resultSuccess":true},"hypothesisId":"H1","location":"email_handler.go:SendFinalInvoiceEmail","message":"After calling email service","runId":"run1","sessionId":"debug-session","timestamp":1766495915459}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766496332796}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766496332798}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766496332798}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766496332799}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766496332799}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766496332799}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766496332800}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766496332800}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766496332800}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766496332800}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766496332801}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766496332801}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766496332801}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766496332801}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766496332801}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766496332802}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766496332802}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766496332802}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766496332802}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766496332802}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766496332802}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766496332802}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766496332803}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766496332803}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766496332803}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766496332804}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766496332804}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766496332804}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766496332805}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766496332805}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766496332805}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766496332805}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766496332806}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766496332806}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766496332806}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766496332806}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766496332807}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766496332807}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766496332807}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766496332807}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766496332807}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766496332807}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766496332807}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766496332807}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766496332808}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766496332808}
{"data":{"timestamp":1766496332808},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766496332808},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766496332808},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766496332809},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766496332809},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766496340003,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766496352579,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766496352580},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766496352580},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766496352580},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766496353077,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766496353077},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766496353077},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766496361712,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766496361713},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"hasEmailClient":false,"hasGmailSender":true,"saveAsDraft":true},"hypothesisId":"H1","location":"email_handler.go:SendFinalInvoiceEmail","message":"Before calling email service","runId":"run1","sessionId":"debug-session","timestamp":1766496365402}
{"data":{"subject":"Final Invoice - STL Party Helpers","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before creating draft","runId":"run1","sessionId":"debug-session","timestamp":1766496365402}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766496365402}
{"data":{"draftCreated":true,"error":"","success":true},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"After calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766496366171}
{"data":{"error":"","hasError":false,"hasResult":true,"resultError":"","resultSuccess":true},"hypothesisId":"H1","location":"email_handler.go:SendFinalInvoiceEmail","message":"After calling email service","runId":"run1","sessionId":"debug-session","timestamp":1766496366171}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766496710711}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766496710712}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766496710712}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766496710713}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766496710713}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766496710713}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766496710713}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766496710714}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766496710714}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766496710714}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766496710714}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766496710715}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766496710715}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766496710715}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766496710715}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766496710715}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766496710716}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766496710716}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766496710717}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766496710717}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766496710717}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766496710717}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766496710718}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766496710718}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766496710718}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766496710720}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766496710720}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766496710720}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766496710721}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766496710721}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766496710721}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766496710721}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766496710721}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766496710722}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766496710722}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766496710722}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766496710722}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766496710723}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766496710723}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766496710724}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766496710724}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766496710724}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766496710725}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766496710725}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766496710725}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766496710725}
{"data":{"timestamp":1766496710725},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766496710725},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766496710726},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766496710726},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766496710726},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766496713788,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766496722467,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766496722468},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766496722468},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766496722468},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766496722951,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766496722951},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766496722952},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766496727569,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766496727569},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"hasEmailClient":false,"hasGmailSender":true,"saveAsDraft":true},"hypothesisId":"H1","location":"email_handler.go:SendFinalInvoiceEmail","message":"Before calling email service","runId":"run1","sessionId":"debug-session","timestamp":1766496731066}
{"data":{"subject":"Final Invoice - STL Party Helpers","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before creating draft","runId":"run1","sessionId":"debug-session","timestamp":1766496731067}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766496731067}
{"data":{"draftCreated":true,"error":"","success":true},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"After calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766496731816}
{"data":{"error":"","hasError":false,"hasResult":true,"resultError":"","resultSuccess":true},"hypothesisId":"H1","location":"email_handler.go:SendFinalInvoiceEmail","message":"After calling email service","runId":"run1","sessionId":"debug-session","timestamp":1766496731816}
{"data":{"method":"POST","path":"/api/stripe/deposit/with-email","pathLen":30,"rawPath":"","timestamp":1766496945232,"url":"/api/stripe/deposit/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/deposit/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766496945232},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"Booking Deposit - STL Party Helpers","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before creating draft","runId":"run1","sessionId":"debug-session","timestamp":1766496948057}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766496948057}
{"data":{"draftCreated":true,"error":"","success":true},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"After calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766496948373}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766497172711}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766497172712}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766497172712}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766497172713}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766497172713}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766497172714}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766497172714}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766497172714}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766497172714}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766497172715}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766497172715}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766497172715}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766497172715}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766497172716}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766497172716}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766497172716}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766497172716}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766497172716}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766497172716}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766497172717}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766497172717}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766497172717}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766497172717}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766497172717}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766497172717}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766497172718}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766497172718}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766497172718}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766497172719}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766497172719}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766497172719}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766497172719}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766497172720}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766497172720}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766497172720}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766497172721}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766497172721}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766497172721}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766497172722}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766497172722}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766497172722}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766497172722}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766497172723}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766497172723}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766497172723}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766497172724}
{"data":{"timestamp":1766497172724},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766497172725},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766497172725},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766497172725},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766497172725},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766497176084,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766497184524,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766497184525},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766497184525},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766497184525},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766497185012,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766497185012},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766497185012},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/deposit/with-email","pathLen":30,"rawPath":"","timestamp":1766497218549,"url":"/api/stripe/deposit/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/deposit/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766497218550},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"Booking Deposit - STL Party Helpers","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before creating draft","runId":"run1","sessionId":"debug-session","timestamp":1766497221471}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766497221471}
{"data":{"draftCreated":true,"error":"","success":true},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"After calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766497222170}
{"data":{"method":"POST","path":"/api/stripe/deposit/with-email","pathLen":30,"rawPath":"","timestamp":1766497241156,"url":"/api/stripe/deposit/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/deposit/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766497241157},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"Booking Deposit - STL Party Helpers","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before creating draft","runId":"run1","sessionId":"debug-session","timestamp":1766497243442}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766497243442}
{"data":{"draftCreated":true,"error":"","success":true},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"After calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766497243676}
{"data":{"method":"POST","path":"/api/stripe/deposit/with-email","pathLen":30,"rawPath":"","timestamp":1766497249298,"url":"/api/stripe/deposit/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/deposit/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766497249299},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"Booking Deposit - STL Party Helpers","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before creating draft","runId":"run1","sessionId":"debug-session","timestamp":1766497251871}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766497251872}
{"data":{"draftCreated":true,"error":"","success":true},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"After calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766497252107}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766497814138}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766497814139}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766497814139}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766497814140}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766497814140}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766497814140}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766497814141}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766497814141}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766497814141}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766497814141}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766497814141}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766497814142}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766497814142}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766497814142}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766497814142}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766497814142}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766497814143}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766497814143}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766497814143}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766497814143}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766497814143}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766497814143}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766497814144}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766497814144}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766497814144}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766497814145}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766497814145}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766497814145}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766497814145}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766497814146}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766497814146}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766497814146}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766497814146}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766497814146}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766497814147}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766497814147}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766497814147}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766497814147}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766497814147}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766497814148}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766497814148}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766497814148}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766497814148}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766497814148}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766497814149}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766497814149}
{"data":{"timestamp":1766497814149},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766497814149},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766497814149},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766497814150},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766497814150},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766497814172,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766497831396,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766497831397},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766497831397},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766497831397},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766497831830,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766497831831},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766497831831},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/deposit/with-email","pathLen":30,"rawPath":"","timestamp":1766497882178,"url":"/api/stripe/deposit/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/deposit/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766497882178},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/deposit/with-email","pathLen":30,"rawPath":"","timestamp":1766497905983,"url":"/api/stripe/deposit/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/deposit/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766497905983},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"Action needed to secure your reservation - STL Party Helpers","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before creating draft","runId":"run1","sessionId":"debug-session","timestamp":1766497909508}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766497909508}
{"data":{"draftCreated":true,"error":"","success":true},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"After calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766497910169}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766498101586}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766498101587}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766498101588}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766498101589}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766498101589}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498101589}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498101589}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766498101589}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766498101589}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766498101590}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766498101590}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766498101591}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766498101591}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766498101592}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766498101592}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766498101592}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498101592}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498101592}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766498101593}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766498101593}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766498101593}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766498101594}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766498101594}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766498101595}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766498101595}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766498101596}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766498101596}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498101596}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498101596}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766498101596}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766498101597}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766498101597}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766498101597}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766498101597}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766498101597}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766498101598}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766498101598}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498101598}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498101599}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766498101599}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766498101599}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766498101599}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766498101599}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766498101599}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766498101599}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766498101600}
{"data":{"timestamp":1766498101600},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766498101600},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766498101600},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766498101600},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766498101601},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766498101803,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766498210005}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766498210005}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766498210005}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766498210006}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766498210006}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498210007}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498210007}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766498210007}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766498210007}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766498210007}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766498210008}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766498210008}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766498210008}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766498210008}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766498210008}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766498210009}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498210009}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498210009}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766498210009}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766498210009}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766498210009}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766498210010}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766498210010}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766498210010}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766498210010}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766498210012}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766498210012}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498210012}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498210013}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766498210013}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766498210013}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766498210014}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766498210014}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766498210014}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766498210014}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766498210014}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766498210015}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498210015}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498210015}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766498210015}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766498210015}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766498210015}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766498210016}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766498210016}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766498210016}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766498210016}
{"data":{"timestamp":1766498210016},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766498210017},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766498210017},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766498210017},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766498210017},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766498210127,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766498223732,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766498223733},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766498223734},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766498223734},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766498224635,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766498224636},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766498224636},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/deposit/with-email","pathLen":30,"rawPath":"","timestamp":1766498249128,"url":"/api/stripe/deposit/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/deposit/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766498249129},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"Action needed to secure your reservation - STL Party Helpers","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before creating draft","runId":"run1","sessionId":"debug-session","timestamp":1766498252147}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766498252147}
{"data":{"draftCreated":true,"error":"","success":true},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"After calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766498252779}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766498414089}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766498414089}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766498414089}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766498414090}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766498414090}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498414090}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498414090}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766498414091}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766498414091}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766498414091}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766498414091}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766498414091}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766498414092}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766498414092}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766498414092}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766498414092}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498414092}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498414093}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766498414093}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766498414093}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766498414093}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766498414093}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766498414094}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766498414094}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766498414094}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766498414095}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766498414095}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498414095}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498414095}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766498414096}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766498414096}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766498414096}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766498414096}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766498414096}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766498414096}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766498414097}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766498414097}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498414097}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766498414097}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766498414097}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766498414097}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766498414098}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766498414098}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766498414098}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766498414098}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766498414098}
{"data":{"timestamp":1766498414098},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766498414099},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766498414099},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766498414099},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766498414099},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766498414136,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/deposit/with-email","pathLen":30,"rawPath":"","timestamp":1766498423136,"url":"/api/stripe/deposit/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/deposit/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766498423136},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"Action needed to secure your reservation - STL Party Helpers","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before creating draft","runId":"run1","sessionId":"debug-session","timestamp":1766498425905}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766498425906}
{"data":{"draftCreated":true,"error":"","success":true},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"After calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766498426407}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766498461814,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766498461814},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766498461814},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766498461815},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766498462194,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766498462195},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766498462195},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/deposit/with-email","pathLen":30,"rawPath":"","timestamp":1766498466383,"url":"/api/stripe/deposit/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/deposit/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766498466383},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"Action needed to secure your reservation - STL Party Helpers","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before creating draft","runId":"run1","sessionId":"debug-session","timestamp":1766498468920}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766498468921}
{"data":{"draftCreated":true,"error":"","success":true},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"After calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766498469180}
{"data":{"method":"POST","path":"/api/stripe/deposit/with-email","pathLen":30,"rawPath":"","timestamp":1766498636951,"url":"/api/stripe/deposit/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/deposit/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766498636951},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"Action needed to secure your reservation - STL Party Helpers","to":"chrisjoy74@gmail.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before creating draft","runId":"run1","sessionId":"debug-session","timestamp":1766498639860}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766498639860}
{"data":{"draftCreated":true,"error":"","success":true},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"After calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766498640238}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766498868774,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766498868774},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"hasEmailClient":false,"hasGmailSender":true,"saveAsDraft":true},"hypothesisId":"H1","location":"email_handler.go:SendFinalInvoiceEmail","message":"Before calling email service","runId":"run1","sessionId":"debug-session","timestamp":1766498872529}
{"data":{"subject":"Final Invoice - STL Party Helpers","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before creating draft","runId":"run1","sessionId":"debug-session","timestamp":1766498872529}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766498872529}
{"data":{"draftCreated":true,"error":"","success":true},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"After calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766498872854}
{"data":{"error":"","hasError":false,"hasResult":true,"resultError":"","resultSuccess":true},"hypothesisId":"H1","location":"email_handler.go:SendFinalInvoiceEmail","message":"After calling email service","runId":"run1","sessionId":"debug-session","timestamp":1766498872856}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766499332969}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766499332969}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766499332969}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766499332970}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766499332970}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766499332970}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766499332970}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766499332970}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766499332971}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766499332971}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766499332971}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766499332971}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766499332971}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766499332972}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766499332972}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766499332972}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766499332972}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766499332973}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766499332973}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766499332973}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766499332973}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766499332973}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766499332974}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766499332974}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766499332974}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766499332974}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766499332975}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766499332975}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766499332976}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766499332976}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766499332976}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766499332977}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766499332977}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766499332977}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766499332977}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766499332977}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766499332978}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766499332978}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766499332978}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766499332978}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766499332978}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766499332979}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766499332979}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766499332979}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766499332979}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766499332979}
{"data":{"timestamp":1766499332979},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766499332979},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766499332979},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766499332980},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766499332980},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766499333191,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766499363352,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766499363352},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766499363353},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766499363353},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766499363832,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766499363832},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766499363832},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766499378200,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766499378202},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766499379705,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766499379706},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766499401519,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766499401519},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"hasEmailClient":false,"hasGmailSender":true,"saveAsDraft":true},"hypothesisId":"H1","location":"email_handler.go:SendFinalInvoiceEmail","message":"Before calling email service","runId":"run1","sessionId":"debug-session","timestamp":1766499405185}
{"data":{"subject":"Final Invoice - STL Party Helpers","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before creating draft","runId":"run1","sessionId":"debug-session","timestamp":1766499405185}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766499405185}
{"data":{"draftCreated":true,"error":"","success":true},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"After calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766499405831}
{"data":{"error":"","hasError":false,"hasResult":true,"resultError":"","resultSuccess":true},"hypothesisId":"H1","location":"email_handler.go:SendFinalInvoiceEmail","message":"After calling email service","runId":"run1","sessionId":"debug-session","timestamp":1766499405832}
{"data":{"method":"POST","path":"/api/stripe/final-invoice/with-email","pathLen":36,"rawPath":"","timestamp":1766499631739,"url":"/api/stripe/final-invoice/with-email"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/stripe/final-invoice/with-email","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766499631740},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"hasEmailClient":false,"hasGmailSender":true,"saveAsDraft":true},"hypothesisId":"H1","location":"email_handler.go:SendFinalInvoiceEmail","message":"Before calling email service","runId":"run1","sessionId":"debug-session","timestamp":1766499635020}
{"data":{"subject":"Final Invoice - STL Party Helpers","to":"jess.n.bowers@gmail.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before creating draft","runId":"run1","sessionId":"debug-session","timestamp":1766499635021}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766499635021}
{"data":{"draftCreated":true,"error":"","success":true},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"After calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766499635414}
{"data":{"error":"","hasError":false,"hasResult":true,"resultError":"","resultSuccess":true},"hypothesisId":"H1","location":"email_handler.go:SendFinalInvoiceEmail","message":"After calling email service","runId":"run1","sessionId":"debug-session","timestamp":1766499635415}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766545782896}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766545782897}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766545782897}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766545782898}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766545782898}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766545782898}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766545782898}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766545782898}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766545782899}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766545782899}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766545782900}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766545782900}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766545782900}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766545782900}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766545782901}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766545782901}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766545782901}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766545782901}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766545782901}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766545782901}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766545782902}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766545782902}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766545782902}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766545782902}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766545782902}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766545782903}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766545782903}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766545782904}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766545782904}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766545782904}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766545782904}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766545782904}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766545782905}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766545782905}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766545782905}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766545782906}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766545782907}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766545782907}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766545782907}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766545782907}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766545782907}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766545782908}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766545782908}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766545782908}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766545782908}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766545782908}
{"data":{"timestamp":1766545782909},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766545782909},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766545782910},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766545782910},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766545782910},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766545783021,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766545835188,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766545835189},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766545835189},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766545835189},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766545835674,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766545835674},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766545835674},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766545984855}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766545984856}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766545984856}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766545984857}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766545984857}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766545984858}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766545984858}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766545984858}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766545984858}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766545984858}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766545984859}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766545984859}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766545984859}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766545984860}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766545984860}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766545984860}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766545984860}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766545984860}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766545984860}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766545984861}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766545984861}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766545984861}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766545984861}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766545984861}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766545984861}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766545984862}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766545984862}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766545984862}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766545984863}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766545984863}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766545984863}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766545984863}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766545984864}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766545984864}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766545984865}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766545984865}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766545984865}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766545984865}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766545984865}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766545984865}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766545984866}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766545984866}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766545984866}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766545984866}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766545984866}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766545984866}
{"data":{"timestamp":1766545984867},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766545984867},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766545984867},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766545984867},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766545984867},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766545985051,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766546033612,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766546033612},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766546033613},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766546033613},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766546033978,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766546033978},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766546033978},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766546055343}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766546055344}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766546055344}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766546055345}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766546055345}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546055345}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546055345}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766546055345}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766546055346}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766546055346}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766546055346}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766546055347}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766546055347}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766546055347}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766546055347}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766546055347}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546055347}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546055348}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766546055348}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766546055348}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766546055348}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766546055348}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766546055349}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766546055349}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766546055349}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766546055350}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766546055350}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546055350}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546055350}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766546055351}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766546055352}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766546055352}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766546055352}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766546055352}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766546055352}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766546055353}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766546055353}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546055353}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546055353}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766546055353}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766546055354}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766546055354}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766546055354}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766546055354}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766546055354}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766546055354}
{"data":{"timestamp":1766546055355},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766546055355},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766546055355},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766546055355},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766546055355},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766546055551,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766546068650,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766546068650},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766546068650},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766546068651},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766546069064,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766546069064},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766546069064},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766546072285,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766546072286},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766546072286},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766546072287},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766546072500,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766546072500},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766546072500},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/","pathLen":1,"rawPath":"","timestamp":1766546079953,"url":"/"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/","timestamp":1766546079954},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/","pathLen":15,"rawPath":"","timestamp":1766546085659,"url":"/%D1%8B%D1%86%D1%84%D0%BF%D0%BF%D1%83%D0%BA"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/","timestamp":1766546085659},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766546092971,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766546092972},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766546092972},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766546092972},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766546093030,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766546093031},"hypothesisId":"B","location":"swagger_handler.go:52","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766546093031},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766546274617}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766546274617}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766546274618}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766546274618}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766546274618}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546274619}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546274619}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766546274619}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766546274619}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766546274619}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766546274619}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766546274619}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766546274620}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766546274620}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766546274620}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766546274620}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546274620}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546274620}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766546274620}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766546274621}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766546274621}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766546274621}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766546274621}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766546274621}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766546274622}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766546274622}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766546274623}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546274623}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546274624}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766546274624}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766546274624}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766546274624}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766546274625}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766546274625}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766546274625}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766546274625}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766546274626}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546274626}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546274626}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766546274626}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766546274626}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766546274626}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766546274626}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766546274627}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766546274627}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766546274627}
{"data":{"timestamp":1766546274627},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766546274628},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766546274628},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766546274628},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766546274629},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766546274629},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766546279297,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766546279298},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766546279298},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766546279298},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766546279761,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766546279761},"hypothesisId":"B","location":"swagger_handler.go:105","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766546279762},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766546279762},"hypothesisId":"A","location":"swagger_handler.go:127","message":"About to read OpenAPI file","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63166,"error":"","hasContent":true,"timestamp":1766546279763},"hypothesisId":"A","location":"swagger_handler.go:135","message":"ReadFile OpenAPI spec result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63166,"firstBytes":"openapi: 3.0.3\r\ninfo:\r\n  title: BizOps360 Go API\r\n  description: |\r\n      API   BizOps360 Go Backend.\r\n    \r\n    ** ","timestamp":1766546279764},"hypothesisId":"B","location":"swagger_handler.go:152","message":"About to unmarshal YAML","runId":"run1","sessionId":"debug-session"}
{"data":{"error":"yaml: line 1358: mapping values are not allowed in this context","timestamp":1766546279767},"hypothesisId":"B","location":"swagger_handler.go:161","message":"YAML Unmarshal error","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766546280536,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766546280537},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766546280537},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766546280537},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766546280767,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766546280767},"hypothesisId":"B","location":"swagger_handler.go:105","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766546280767},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766546280767},"hypothesisId":"A","location":"swagger_handler.go:127","message":"About to read OpenAPI file","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63166,"error":"","hasContent":true,"timestamp":1766546280768},"hypothesisId":"A","location":"swagger_handler.go:135","message":"ReadFile OpenAPI spec result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63166,"firstBytes":"openapi: 3.0.3\r\ninfo:\r\n  title: BizOps360 Go API\r\n  description: |\r\n      API   BizOps360 Go Backend.\r\n    \r\n    ** ","timestamp":1766546280768},"hypothesisId":"B","location":"swagger_handler.go:152","message":"About to unmarshal YAML","runId":"run1","sessionId":"debug-session"}
{"data":{"error":"yaml: line 1358: mapping values are not allowed in this context","timestamp":1766546280770},"hypothesisId":"B","location":"swagger_handler.go:161","message":"YAML Unmarshal error","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766546290498,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766546290499},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766546290499},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766546290499},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766546290794,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766546290795},"hypothesisId":"B","location":"swagger_handler.go:105","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766546290795},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766546290795},"hypothesisId":"A","location":"swagger_handler.go:127","message":"About to read OpenAPI file","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63166,"error":"","hasContent":true,"timestamp":1766546290795},"hypothesisId":"A","location":"swagger_handler.go:135","message":"ReadFile OpenAPI spec result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63166,"firstBytes":"openapi: 3.0.3\r\ninfo:\r\n  title: BizOps360 Go API\r\n  description: |\r\n      API   BizOps360 Go Backend.\r\n    \r\n    ** ","timestamp":1766546290796},"hypothesisId":"B","location":"swagger_handler.go:152","message":"About to unmarshal YAML","runId":"run1","sessionId":"debug-session"}
{"data":{"error":"yaml: line 1358: mapping values are not allowed in this context","timestamp":1766546290797},"hypothesisId":"B","location":"swagger_handler.go:161","message":"YAML Unmarshal error","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766546291778,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766546291779},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766546291779},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766546291779},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766546291961,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766546291961},"hypothesisId":"B","location":"swagger_handler.go:105","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766546291961},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766546291962},"hypothesisId":"A","location":"swagger_handler.go:127","message":"About to read OpenAPI file","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63166,"error":"","hasContent":true,"timestamp":1766546291962},"hypothesisId":"A","location":"swagger_handler.go:135","message":"ReadFile OpenAPI spec result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63166,"firstBytes":"openapi: 3.0.3\r\ninfo:\r\n  title: BizOps360 Go API\r\n  description: |\r\n      API   BizOps360 Go Backend.\r\n    \r\n    ** ","timestamp":1766546291962},"hypothesisId":"B","location":"swagger_handler.go:152","message":"About to unmarshal YAML","runId":"run1","sessionId":"debug-session"}
{"data":{"error":"yaml: line 1358: mapping values are not allowed in this context","timestamp":1766546291964},"hypothesisId":"B","location":"swagger_handler.go:161","message":"YAML Unmarshal error","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766546296691,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766546296691},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766546296692},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766546296692},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766546296749,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766546296759},"hypothesisId":"B","location":"swagger_handler.go:105","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766546296760},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766546296760},"hypothesisId":"A","location":"swagger_handler.go:127","message":"About to read OpenAPI file","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63166,"error":"","hasContent":true,"timestamp":1766546296760},"hypothesisId":"A","location":"swagger_handler.go:135","message":"ReadFile OpenAPI spec result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63166,"firstBytes":"openapi: 3.0.3\r\ninfo:\r\n  title: BizOps360 Go API\r\n  description: |\r\n      API   BizOps360 Go Backend.\r\n    \r\n    ** ","timestamp":1766546296760},"hypothesisId":"B","location":"swagger_handler.go:152","message":"About to unmarshal YAML","runId":"run1","sessionId":"debug-session"}
{"data":{"error":"yaml: line 1358: mapping values are not allowed in this context","timestamp":1766546296762},"hypothesisId":"B","location":"swagger_handler.go:161","message":"YAML Unmarshal error","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766546305747,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766546305748},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766546305748},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766546305748},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766546305809,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766546305809},"hypothesisId":"B","location":"swagger_handler.go:105","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766546305809},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766546305809},"hypothesisId":"A","location":"swagger_handler.go:127","message":"About to read OpenAPI file","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63166,"error":"","hasContent":true,"timestamp":1766546305810},"hypothesisId":"A","location":"swagger_handler.go:135","message":"ReadFile OpenAPI spec result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63166,"firstBytes":"openapi: 3.0.3\r\ninfo:\r\n  title: BizOps360 Go API\r\n  description: |\r\n      API   BizOps360 Go Backend.\r\n    \r\n    ** ","timestamp":1766546305810},"hypothesisId":"B","location":"swagger_handler.go:152","message":"About to unmarshal YAML","runId":"run1","sessionId":"debug-session"}
{"data":{"error":"yaml: line 1358: mapping values are not allowed in this context","timestamp":1766546305812},"hypothesisId":"B","location":"swagger_handler.go:161","message":"YAML Unmarshal error","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766546393715}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766546393716}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766546393716}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766546393717}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766546393717}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546393717}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546393717}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766546393717}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766546393718}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766546393718}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766546393718}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766546393718}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766546393718}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766546393719}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766546393719}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766546393720}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546393720}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546393720}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766546393720}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766546393720}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766546393720}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766546393721}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766546393721}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766546393721}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766546393721}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766546393723}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766546393723}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546393723}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546393723}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766546393724}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766546393724}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766546393724}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766546393724}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766546393724}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766546393724}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766546393724}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766546393725}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546393725}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546393725}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766546393725}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766546393725}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766546393725}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766546393726}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766546393726}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766546393726}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766546393726}
{"data":{"timestamp":1766546393726},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766546393726},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766546393727},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766546393727},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766546393727},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766546393727},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766546394080,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766546394081},"hypothesisId":"B","location":"swagger_handler.go:105","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766546394081},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766546394081},"hypothesisId":"A","location":"swagger_handler.go:127","message":"About to read OpenAPI file","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63170,"error":"","hasContent":true,"timestamp":1766546394081},"hypothesisId":"A","location":"swagger_handler.go:135","message":"ReadFile OpenAPI spec result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63170,"firstBytes":"openapi: 3.0.3\r\ninfo:\r\n  title: BizOps360 Go API\r\n  description: |\r\n      API   BizOps360 Go Backend.\r\n    \r\n    ** ","timestamp":1766546394082},"hypothesisId":"B","location":"swagger_handler.go:152","message":"About to unmarshal YAML","runId":"run1","sessionId":"debug-session"}
{"data":{"specDataType":"map[string]interface {}","timestamp":1766546394085},"hypothesisId":"C","location":"swagger_handler.go:171","message":"About to marshal to JSON","runId":"run1","sessionId":"debug-session"}
{"data":{"jsonLength":49080,"timestamp":1766546394086},"hypothesisId":"C","location":"swagger_handler.go:188","message":"OpenAPI spec converted successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766546582285,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766546582286},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766546582286},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766546582286},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766546582330,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766546582331},"hypothesisId":"B","location":"swagger_handler.go:105","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766546582331},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766546582331},"hypothesisId":"A","location":"swagger_handler.go:127","message":"About to read OpenAPI file","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63170,"error":"","hasContent":true,"timestamp":1766546582331},"hypothesisId":"A","location":"swagger_handler.go:135","message":"ReadFile OpenAPI spec result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63170,"firstBytes":"openapi: 3.0.3\r\ninfo:\r\n  title: BizOps360 Go API\r\n  description: |\r\n      API   BizOps360 Go Backend.\r\n    \r\n    ** ","timestamp":1766546582331},"hypothesisId":"B","location":"swagger_handler.go:152","message":"About to unmarshal YAML","runId":"run1","sessionId":"debug-session"}
{"data":{"specDataType":"map[string]interface {}","timestamp":1766546582335},"hypothesisId":"C","location":"swagger_handler.go:171","message":"About to marshal to JSON","runId":"run1","sessionId":"debug-session"}
{"data":{"jsonLength":49080,"timestamp":1766546582335},"hypothesisId":"C","location":"swagger_handler.go:188","message":"OpenAPI spec converted successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/quote/preview","pathLen":24,"rawPath":"","timestamp":1766546616195,"url":"/api/email/quote/preview"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/quote/preview","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766546616195},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before creating draft","runId":"run1","sessionId":"debug-session","timestamp":1766546616196}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"Before calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766546616196}
{"data":{"draftCreated":true,"error":"","success":true},"hypothesisId":"A,B","location":"gmail.go:SendEmailDraft","message":"After calling Drafts.Create API","runId":"run1","sessionId":"debug-session","timestamp":1766546616907}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766546849053}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766546849053}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766546849054}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766546849054}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766546849055}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546849055}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546849055}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766546849055}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766546849055}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766546849056}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766546849056}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766546849056}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766546849056}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766546849056}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766546849056}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766546849057}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546849057}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546849058}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766546849058}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766546849058}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766546849059}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766546849059}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766546849059}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766546849059}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766546849059}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766546849060}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766546849060}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546849060}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546849060}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766546849060}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766546849061}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766546849061}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766546849061}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766546849062}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766546849062}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766546849062}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766546849062}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546849062}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766546849062}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766546849063}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766546849063}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766546849063}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766546849063}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766546849063}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766546849063}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766546849064}
{"data":{"timestamp":1766546849064},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766546849064},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766546849064},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766546849064},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766546849065},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766546849065},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766553992045}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766553992045}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766553992046}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766553992046}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766553992047}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766553992047}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766553992047}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766553992047}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766553992047}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766553992048}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766553992048}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766553992048}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766553992048}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766553992048}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766553992049}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766553992049}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766553992049}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766553992049}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766553992050}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766553992050}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766553992050}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766553992050}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766553992050}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766553992050}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766553992051}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766553992051}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766553992052}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766553992052}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766553992052}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766553992052}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766553992052}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766553992052}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766553992053}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766553992053}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766553992053}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766553992054}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766553992054}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766553992054}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766553992054}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766553992054}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766553992055}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766553992055}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766553992055}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766553992055}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766553992055}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766553992056}
{"data":{"timestamp":1766553992056},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766553992056},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766553992056},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766553992056},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766553992056},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766553992057},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766553992256,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766554057003,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766554057003},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766554057003},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766554057004},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766554057418,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766554057418},"hypothesisId":"B","location":"swagger_handler.go:105","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766554057418},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766554057419},"hypothesisId":"A","location":"swagger_handler.go:127","message":"About to read OpenAPI file","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63170,"error":"","hasContent":true,"timestamp":1766554057419},"hypothesisId":"A","location":"swagger_handler.go:135","message":"ReadFile OpenAPI spec result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63170,"firstBytes":"openapi: 3.0.3\r\ninfo:\r\n  title: BizOps360 Go API\r\n  description: |\r\n      API   BizOps360 Go Backend.\r\n    \r\n    ** ","timestamp":1766554057419},"hypothesisId":"B","location":"swagger_handler.go:152","message":"About to unmarshal YAML","runId":"run1","sessionId":"debug-session"}
{"data":{"specDataType":"map[string]interface {}","timestamp":1766554057424},"hypothesisId":"C","location":"swagger_handler.go:171","message":"About to marshal to JSON","runId":"run1","sessionId":"debug-session"}
{"data":{"jsonLength":49080,"timestamp":1766554057424},"hypothesisId":"C","location":"swagger_handler.go:188","message":"OpenAPI spec converted successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/quote/preview","pathLen":24,"rawPath":"","timestamp":1766554063281,"url":"/api/email/quote/preview"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/quote/preview","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766554063281},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before sending email","runId":"run1","sessionId":"debug-session","timestamp":1766554063282}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766554063282}
{"data":{"error":"","messageID":"19b4ed3ebfa7b73b","subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"After calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766554064072}
{"data":{"error":"","messageID":"19b4ed3ebfa7b73b","saveAsDraft":false,"success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"A","location":"email_handler.go:HandleQuoteEmailPreview","message":"After sending/saving email","runId":"run1","sessionId":"debug-session","timestamp":1766554064072}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766554072719}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766554072720}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766554072720}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766554072722}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766554072722}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554072722}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554072723}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766554072723}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766554072723}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766554072723}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766554072723}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766554072724}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766554072724}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766554072725}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766554072725}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766554072725}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554072725}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554072726}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766554072726}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766554072726}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766554072726}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766554072727}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766554072727}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766554072727}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766554072727}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766554072729}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766554072729}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554072730}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554072730}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766554072730}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766554072730}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766554072731}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766554072731}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766554072731}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766554072731}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766554072732}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766554072732}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554072732}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554072733}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766554072733}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766554072734}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766554072734}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766554072734}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766554072734}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766554072734}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766554072734}
{"data":{"timestamp":1766554072735},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766554072735},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766554072736},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766554072736},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766554072736},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766554072736},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766554072835,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766554552772}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766554552773}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766554552773}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766554552774}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766554552774}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554552775}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554552775}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766554552775}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766554552775}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766554552776}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766554552776}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766554552776}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766554552776}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766554552776}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766554552776}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766554552776}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554552777}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554552777}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766554552777}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766554552777}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766554552777}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766554552778}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766554552778}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766554552778}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766554552778}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766554552779}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766554552779}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554552779}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554552779}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766554552780}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766554552781}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766554552781}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766554552781}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766554552781}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766554552781}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766554552782}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766554552783}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554552783}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554552783}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766554552783}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766554552784}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766554552784}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766554552784}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766554552785}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766554552785}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766554552786}
{"data":{"timestamp":1766554552786},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766554552786},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766554552786},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766554552786},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766554552787},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766554552787},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766554552917,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766554597536}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766554597536}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766554597536}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766554597537}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766554597537}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554597537}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554597538}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766554597538}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766554597538}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766554597538}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766554597539}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766554597539}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766554597539}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766554597539}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766554597539}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766554597540}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554597540}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554597540}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766554597540}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766554597540}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766554597540}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766554597541}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766554597541}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766554597541}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766554597542}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766554597542}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766554597542}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554597543}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554597543}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766554597543}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766554597543}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766554597544}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766554597544}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766554597544}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766554597544}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766554597544}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766554597545}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554597545}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554597545}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766554597545}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766554597545}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766554597545}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766554597546}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766554597546}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766554597546}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766554597546}
{"data":{"timestamp":1766554597546},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766554597546},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766554597546},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766554597547},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766554597547},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766554597548},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766554597692,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/","pathLen":1,"rawPath":"","timestamp":1766554748506,"url":"/"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/","timestamp":1766554748506},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766554767225}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766554767226}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766554767226}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766554767227}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766554767227}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554767228}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554767228}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766554767229}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766554767229}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766554767229}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766554767230}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766554767230}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766554767230}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766554767230}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766554767231}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766554767231}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554767232}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554767232}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766554767232}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766554767232}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766554767232}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766554767232}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766554767232}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766554767233}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766554767233}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766554767233}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766554767234}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554767234}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554767234}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766554767234}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766554767234}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766554767235}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766554767235}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766554767235}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766554767236}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766554767236}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766554767236}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554767237}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766554767237}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766554767237}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766554767238}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766554767238}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766554767238}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766554767238}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766554767238}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766554767238}
{"data":{"timestamp":1766554767238},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766554767239},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766554767239},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766554767239},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766554767239},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766554767239},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766554767437,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/HNAP1/","pathLen":7,"rawPath":"","timestamp":1766554768577,"url":"/HNAP1/"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/HNAP1/","timestamp":1766554768577},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/","pathLen":1,"rawPath":"","timestamp":1766554770794,"url":"/"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/","timestamp":1766554770795},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/loginMsg.js","pathLen":12,"rawPath":"","timestamp":1766554773658,"url":"/loginMsg.js"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/loginMsg.js","timestamp":1766554773658},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/cgi/get.cgi","pathLen":12,"rawPath":"","timestamp":1766554773664,"url":"/cgi/get.cgi?cmd=home_login"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/cgi/get.cgi","timestamp":1766554773665},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766555108406,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766555108407},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766555108408},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766555108409},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766555109603,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766555109603},"hypothesisId":"B","location":"swagger_handler.go:105","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766555109603},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766555109604},"hypothesisId":"A","location":"swagger_handler.go:127","message":"About to read OpenAPI file","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63220,"error":"","hasContent":true,"timestamp":1766555109604},"hypothesisId":"A","location":"swagger_handler.go:135","message":"ReadFile OpenAPI spec result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63220,"firstBytes":"openapi: 3.0.3\r\ninfo:\r\n  title: BizOps360 Go API\r\n  description: |\r\n      API   BizOps360 Go Backend.\r\n    \r\n    ** ","timestamp":1766555109604},"hypothesisId":"B","location":"swagger_handler.go:152","message":"About to unmarshal YAML","runId":"run1","sessionId":"debug-session"}
{"data":{"specDataType":"map[string]interface {}","timestamp":1766555109609},"hypothesisId":"C","location":"swagger_handler.go:171","message":"About to marshal to JSON","runId":"run1","sessionId":"debug-session"}
{"data":{"jsonLength":49130,"timestamp":1766555109610},"hypothesisId":"C","location":"swagger_handler.go:188","message":"OpenAPI spec converted successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/quote/preview","pathLen":24,"rawPath":"","timestamp":1766555113434,"url":"/api/email/quote/preview"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/quote/preview","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766555113435},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before sending email","runId":"run1","sessionId":"debug-session","timestamp":1766555113435}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766555113435}
{"data":{"error":"","messageID":"19b4ee3f08f596aa","subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"After calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766555114293}
{"data":{"error":"","messageID":"19b4ee3f08f596aa","saveAsDraft":false,"success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"A","location":"email_handler.go:HandleQuoteEmailPreview","message":"After sending/saving email","runId":"run1","sessionId":"debug-session","timestamp":1766555114294}
{"data":{"method":"GET","path":"/","pathLen":1,"rawPath":"","timestamp":1766578677994,"url":"/"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/","timestamp":1766578677995},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/HNAP1/","pathLen":7,"rawPath":"","timestamp":1766578689021,"url":"/HNAP1/"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/HNAP1/","timestamp":1766578689022},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/","pathLen":1,"rawPath":"","timestamp":1766578691216,"url":"/"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/","timestamp":1766578691216},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/loginMsg.js","pathLen":12,"rawPath":"","timestamp":1766578691659,"url":"/loginMsg.js"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/loginMsg.js","timestamp":1766578691659},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/cgi/get.cgi","pathLen":12,"rawPath":"","timestamp":1766578691663,"url":"/cgi/get.cgi?cmd=home_login"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/cgi/get.cgi","timestamp":1766578691664},"hypothesisId":"D","location":"root_handler.go:88","message":"HandleRoot called (ROOT HANDLER MATCHING?)","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766620867861}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766620867863}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766620867864}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766620867865}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766620867866}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766620867866}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766620867866}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766620867867}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766620867867}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766620867867}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766620867867}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766620867867}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766620867868}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766620867868}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766620867868}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766620867869}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766620867869}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766620867869}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766620867870}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766620867870}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766620867870}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766620867871}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766620867871}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766620867872}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766620867872}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766620867873}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766620867874}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766620867874}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766620867874}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766620867875}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766620867875}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766620867875}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766620867875}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766620867875}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766620867875}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766620867876}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766620867876}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766620867876}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766620867876}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766620867876}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766620867877}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766620867877}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766620867877}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766620867877}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766620867878}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766620867878}
{"data":{"timestamp":1766620867878},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766620867878},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766620867879},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766620867879},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766620867879},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766620867879},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766620868164,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766621115822}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766621115823}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766621115823}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621115824}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621115824}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621115824}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621115825}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621115825}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621115825}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621115825}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621115825}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621115826}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621115826}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766621115826}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621115826}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621115826}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621115827}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621115827}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621115828}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621115828}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621115828}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621115828}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621115828}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621115828}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766621115828}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621115829}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621115829}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621115829}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621115830}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621115830}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621115830}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621115830}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621115830}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621115830}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621115830}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621115831}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621115831}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621115831}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621115832}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621115832}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621115832}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621115832}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621115832}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621115832}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621115833}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766621115833}
{"data":{"timestamp":1766621115833},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766621115833},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766621115833},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766621115834},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766621115834},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766621115835},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766621132574,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766621132575},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766621132575},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766621132575},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766621132976,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766621132976},"hypothesisId":"B","location":"swagger_handler.go:105","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766621132977},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766621132977},"hypothesisId":"A","location":"swagger_handler.go:127","message":"About to read OpenAPI file","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63220,"error":"","hasContent":true,"timestamp":1766621132977},"hypothesisId":"A","location":"swagger_handler.go:135","message":"ReadFile OpenAPI spec result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63220,"firstBytes":"openapi: 3.0.3\r\ninfo:\r\n  title: BizOps360 Go API\r\n  description: |\r\n      API   BizOps360 Go Backend.\r\n    \r\n    ** ","timestamp":1766621132977},"hypothesisId":"B","location":"swagger_handler.go:152","message":"About to unmarshal YAML","runId":"run1","sessionId":"debug-session"}
{"data":{"specDataType":"map[string]interface {}","timestamp":1766621132981},"hypothesisId":"C","location":"swagger_handler.go:171","message":"About to marshal to JSON","runId":"run1","sessionId":"debug-session"}
{"data":{"jsonLength":49130,"timestamp":1766621132982},"hypothesisId":"C","location":"swagger_handler.go:188","message":"OpenAPI spec converted successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/quote/preview","pathLen":24,"rawPath":"","timestamp":1766621141506,"url":"/api/email/quote/preview"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/quote/preview","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766621141506},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before sending email","runId":"run1","sessionId":"debug-session","timestamp":1766621141506}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766621141507}
{"data":{"error":"","messageID":"19b52d3a59f27904","subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"After calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766621142410}
{"data":{"error":"","messageID":"19b52d3a59f27904","saveAsDraft":false,"success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"A","location":"email_handler.go:HandleQuoteEmailPreview","message":"After sending/saving email","runId":"run1","sessionId":"debug-session","timestamp":1766621142411}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766621417015}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766621417016}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766621417016}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621417016}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621417017}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621417017}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621417017}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621417017}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621417017}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621417017}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621417018}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621417018}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621417018}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766621417018}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621417018}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621417018}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621417019}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621417019}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621417019}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621417019}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621417020}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621417020}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621417020}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621417020}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766621417020}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621417021}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621417021}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621417022}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621417022}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621417022}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621417022}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621417022}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621417022}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621417023}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621417023}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621417023}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621417023}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621417023}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621417023}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621417024}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621417024}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621417024}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621417024}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621417024}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621417024}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766621417024}
{"data":{"timestamp":1766621417025},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766621417025},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766621417025},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766621417025},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766621417025},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766621417025},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/quote/preview","pathLen":24,"rawPath":"","timestamp":1766621424816,"url":"/api/email/quote/preview"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/quote/preview","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766621424816},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before sending email","runId":"run1","sessionId":"debug-session","timestamp":1766621424816}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766621424816}
{"data":{"error":"","messageID":"19b52d7f91e124cf","subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"After calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766621425702}
{"data":{"error":"","messageID":"19b52d7f91e124cf","saveAsDraft":false,"success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"A","location":"email_handler.go:HandleQuoteEmailPreview","message":"After sending/saving email","runId":"run1","sessionId":"debug-session","timestamp":1766621425703}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766621513154}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766621513154}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766621513154}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621513155}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621513155}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621513155}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621513155}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621513156}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621513156}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621513156}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621513156}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621513156}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621513157}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766621513157}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621513157}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621513157}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621513157}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621513158}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621513158}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621513158}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621513158}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621513158}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621513159}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621513159}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766621513159}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621513160}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621513160}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621513160}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621513160}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621513160}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621513161}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621513161}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621513161}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621513161}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621513161}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621513161}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621513162}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621513162}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621513162}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621513162}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621513162}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621513162}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621513162}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621513163}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621513163}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766621513163}
{"data":{"timestamp":1766621513163},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766621513164},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766621513164},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766621513164},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766621513164},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766621513164},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/quote/preview","pathLen":24,"rawPath":"","timestamp":1766621579243,"url":"/api/email/quote/preview"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/quote/preview","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766621579243},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before sending email","runId":"run1","sessionId":"debug-session","timestamp":1766621579243}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766621579244}
{"data":{"error":"","messageID":"19b52da53e640a78","subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"After calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766621579883}
{"data":{"error":"","messageID":"19b52da53e640a78","saveAsDraft":false,"success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"A","location":"email_handler.go:HandleQuoteEmailPreview","message":"After sending/saving email","runId":"run1","sessionId":"debug-session","timestamp":1766621579883}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766621631400}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766621631400}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766621631400}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621631401}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621631401}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621631401}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621631401}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621631401}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621631402}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621631402}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621631403}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621631403}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621631403}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766621631403}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621631403}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621631404}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621631404}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621631404}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621631404}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621631404}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621631405}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621631405}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621631405}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621631405}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766621631405}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621631406}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621631406}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621631406}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621631406}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621631407}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621631407}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621631407}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621631407}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621631407}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621631408}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621631408}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621631408}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621631408}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621631408}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621631409}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621631409}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621631409}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621631409}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621631409}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621631409}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766621631410}
{"data":{"timestamp":1766621631410},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766621631410},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766621631410},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766621631410},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766621631410},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766621631411},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/quote/preview","pathLen":24,"rawPath":"","timestamp":1766621667276,"url":"/api/email/quote/preview"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/quote/preview","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766621667276},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before sending email","runId":"run1","sessionId":"debug-session","timestamp":1766621667277}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766621667277}
{"data":{"error":"","messageID":"19b52dbaa5b660fe","subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"After calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766621668087}
{"data":{"error":"","messageID":"19b52dbaa5b660fe","saveAsDraft":false,"success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"A","location":"email_handler.go:HandleQuoteEmailPreview","message":"After sending/saving email","runId":"run1","sessionId":"debug-session","timestamp":1766621668088}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766621816514}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766621816515}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766621816515}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621816515}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621816516}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621816516}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621816516}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621816517}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621816517}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621816517}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621816517}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621816517}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621816518}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766621816518}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621816518}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621816518}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621816519}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621816519}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621816519}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621816519}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621816519}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621816520}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621816520}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621816520}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766621816521}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621816522}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621816522}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621816522}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621816522}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621816522}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621816523}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621816523}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621816523}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621816523}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621816523}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621816523}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621816524}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621816524}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621816524}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621816525}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621816525}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621816525}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621816525}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621816525}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621816525}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766621816525}
{"data":{"timestamp":1766621816526},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766621816526},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766621816526},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766621816526},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766621816526},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766621816527},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766621834746}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766621834746}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766621834747}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621834748}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621834748}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621834748}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621834749}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621834749}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621834749}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621834750}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621834750}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621834750}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621834750}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766621834750}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621834751}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621834751}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621834751}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621834751}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621834751}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621834752}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621834752}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621834752}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621834752}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621834752}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766621834753}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621834754}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621834754}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621834754}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621834755}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621834755}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621834755}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621834755}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621834756}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621834756}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621834756}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621834756}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621834757}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621834757}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621834757}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621834757}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621834757}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621834758}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621834758}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621834758}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621834758}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766621834758}
{"data":{"timestamp":1766621834759},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766621834759},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766621834759},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766621834759},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766621834760},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766621834760},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766621864554}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766621864555}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766621864555}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621864556}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621864556}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621864556}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621864557}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621864558}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621864558}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621864558}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621864559}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621864559}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621864559}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766621864559}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621864559}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621864559}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621864559}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621864560}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621864560}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621864560}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621864560}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621864560}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621864560}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621864560}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766621864561}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621864562}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621864562}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621864562}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621864563}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621864563}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621864563}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621864563}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621864564}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621864564}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621864564}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621864564}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621864565}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621864565}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621864565}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621864565}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621864565}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621864566}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621864566}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621864566}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621864566}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766621864566}
{"data":{"timestamp":1766621864566},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766621864566},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766621864567},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766621864567},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766621864567},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766621864567},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766621908551}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766621908552}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766621908552}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621908553}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621908553}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621908553}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621908554}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621908554}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621908554}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621908554}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621908554}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621908555}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621908555}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766621908555}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621908555}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621908555}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621908555}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621908556}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621908556}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621908556}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621908556}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621908556}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621908556}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621908557}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766621908557}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621908557}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621908558}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621908558}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621908558}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621908558}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621908558}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621908558}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621908559}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621908559}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621908559}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766621908560}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766621908560}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621908560}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766621908561}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766621908561}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766621908561}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766621908561}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766621908561}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766621908562}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766621908562}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766621908562}
{"data":{"timestamp":1766621908562},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766621908562},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766621908562},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766621908563},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766621908563},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766621908563},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/quote/preview","pathLen":24,"rawPath":"","timestamp":1766623980858,"url":"/api/email/quote/preview"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/quote/preview","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766623980859},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before sending email","runId":"run1","sessionId":"debug-session","timestamp":1766623980859}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766623980859}
{"data":{"error":"","messageID":"19b52fefb7d00a6d","subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"After calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766623981576}
{"data":{"error":"","messageID":"19b52fefb7d00a6d","saveAsDraft":false,"success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"A","location":"email_handler.go:HandleQuoteEmailPreview","message":"After sending/saving email","runId":"run1","sessionId":"debug-session","timestamp":1766623981576}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766624079841}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766624079841}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766624079841}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624079842}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624079842}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624079843}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624079843}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624079843}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624079843}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624079843}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624079844}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624079844}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624079844}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766624079844}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624079844}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624079845}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624079845}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624079845}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624079845}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624079845}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624079845}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624079846}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624079846}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624079846}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766624079846}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624079847}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624079847}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624079847}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624079848}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624079848}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624079848}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624079848}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624079848}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624079848}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624079849}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624079849}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624079849}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624079849}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624079849}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624079850}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624079850}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624079850}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624079850}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624079850}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624079850}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766624079851}
{"data":{"timestamp":1766624079851},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766624079851},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766624079851},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766624079851},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766624079852},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766624079852},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/quote/preview","pathLen":24,"rawPath":"","timestamp":1766624159475,"url":"/api/email/quote/preview"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/quote/preview","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766624159475},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before sending email","runId":"run1","sessionId":"debug-session","timestamp":1766624159475}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766624159476}
{"data":{"error":"","messageID":"19b5301b407d8486","subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"After calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766624160166}
{"data":{"error":"","messageID":"19b5301b407d8486","saveAsDraft":false,"success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"A","location":"email_handler.go:HandleQuoteEmailPreview","message":"After sending/saving email","runId":"run1","sessionId":"debug-session","timestamp":1766624160167}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766624315053}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766624315053}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766624315054}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624315054}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624315055}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624315055}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624315055}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624315055}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624315055}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624315056}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624315056}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624315056}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624315057}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766624315057}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624315057}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624315057}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624315057}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624315058}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624315058}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624315058}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624315058}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624315058}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624315059}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624315059}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766624315059}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624315060}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624315060}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624315060}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624315060}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624315061}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624315061}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624315061}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624315061}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624315061}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624315061}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624315062}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624315062}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624315062}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624315062}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624315062}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624315063}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624315063}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624315063}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624315063}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624315063}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766624315063}
{"data":{"timestamp":1766624315063},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766624315064},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766624315064},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766624315064},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766624315064},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766624315065},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766624526056}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766624526056}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766624526056}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624526057}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624526057}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624526057}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624526058}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624526058}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624526058}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624526058}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624526059}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624526059}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624526059}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766624526059}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624526059}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624526060}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624526060}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624526061}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624526061}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624526061}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624526061}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624526061}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624526062}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624526062}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766624526062}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624526063}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624526063}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624526063}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624526064}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624526064}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624526064}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624526064}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624526065}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624526065}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624526065}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624526065}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624526066}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624526066}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624526066}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624526067}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624526067}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624526067}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624526067}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624526067}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624526068}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766624526068}
{"data":{"timestamp":1766624526068},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766624526068},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766624526068},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766624526068},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766624526069},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766624526069},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766624545814}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766624545815}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766624545815}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624545815}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624545816}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624545816}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624545816}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624545816}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624545816}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624545817}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624545817}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624545817}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624545817}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766624545817}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624545817}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624545818}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624545818}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624545819}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624545819}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624545819}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624545820}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624545820}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624545820}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624545820}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766624545821}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624545821}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624545822}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624545822}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624545823}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624545823}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624545823}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624545823}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624545824}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624545824}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624545824}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624545824}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624545825}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624545825}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624545825}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624545825}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624545826}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624545826}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624545826}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624545826}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624545826}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766624545826}
{"data":{"timestamp":1766624545827},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766624545827},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766624545827},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766624545827},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766624545827},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766624545827},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766624638544}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766624638545}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766624638545}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624638545}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624638546}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624638546}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624638546}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624638546}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624638546}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624638546}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624638547}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624638547}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624638548}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766624638548}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624638548}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624638548}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624638548}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624638549}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624638549}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624638549}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624638549}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624638549}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624638550}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624638550}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766624638550}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624638551}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624638552}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624638552}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624638552}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624638552}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624638552}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624638553}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624638553}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624638553}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624638553}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624638554}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624638554}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624638554}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624638554}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624638554}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624638554}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624638555}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624638555}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624638555}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624638555}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766624638555}
{"data":{"timestamp":1766624638555},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766624638556},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766624638556},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766624638556},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766624638556},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766624638556},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766624638924,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/quote/preview","pathLen":24,"rawPath":"","timestamp":1766624663215,"url":"/api/email/quote/preview"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/quote/preview","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766624663217},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before sending email","runId":"run1","sessionId":"debug-session","timestamp":1766624663217}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766624663217}
{"data":{"error":"","messageID":"19b530964e444c96","subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"After calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766624663991}
{"data":{"error":"","messageID":"19b530964e444c96","saveAsDraft":false,"success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"A","location":"email_handler.go:HandleQuoteEmailPreview","message":"After sending/saving email","runId":"run1","sessionId":"debug-session","timestamp":1766624663992}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766624664885,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766624664886},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766624664886},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766624664886},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766624665326,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766624665327},"hypothesisId":"B","location":"swagger_handler.go:105","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766624665327},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766624665327},"hypothesisId":"A","location":"swagger_handler.go:127","message":"About to read OpenAPI file","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63220,"error":"","hasContent":true,"timestamp":1766624665328},"hypothesisId":"A","location":"swagger_handler.go:135","message":"ReadFile OpenAPI spec result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63220,"firstBytes":"openapi: 3.0.3\r\ninfo:\r\n  title: BizOps360 Go API\r\n  description: |\r\n      API   BizOps360 Go Backend.\r\n    \r\n    ** ","timestamp":1766624665328},"hypothesisId":"B","location":"swagger_handler.go:152","message":"About to unmarshal YAML","runId":"run1","sessionId":"debug-session"}
{"data":{"specDataType":"map[string]interface {}","timestamp":1766624665332},"hypothesisId":"C","location":"swagger_handler.go:171","message":"About to marshal to JSON","runId":"run1","sessionId":"debug-session"}
{"data":{"jsonLength":49130,"timestamp":1766624665333},"hypothesisId":"C","location":"swagger_handler.go:188","message":"OpenAPI spec converted successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/quote/preview","pathLen":24,"rawPath":"","timestamp":1766624669958,"url":"/api/email/quote/preview"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/quote/preview","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766624669959},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before sending email","runId":"run1","sessionId":"debug-session","timestamp":1766624669959}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766624669959}
{"data":{"error":"","messageID":"19b53097d7dd41af","subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"After calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766624670237}
{"data":{"error":"","messageID":"19b53097d7dd41af","saveAsDraft":false,"success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"A","location":"email_handler.go:HandleQuoteEmailPreview","message":"After sending/saving email","runId":"run1","sessionId":"debug-session","timestamp":1766624670237}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766624824594}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766624824594}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766624824594}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624824595}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624824595}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624824595}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624824596}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624824596}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624824596}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624824597}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624824597}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624824597}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624824598}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766624824598}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624824598}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624824598}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624824598}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624824599}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624824599}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624824599}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624824599}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624824599}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624824599}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624824600}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766624824600}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624824601}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624824601}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624824601}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624824602}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624824602}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624824602}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624824602}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624824602}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624824602}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624824603}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624824603}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624824603}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624824603}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624824604}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624824604}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624824604}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624824604}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624824605}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624824606}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624824606}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766624824606}
{"data":{"timestamp":1766624824606},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766624824607},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766624824607},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766624824607},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766624824607},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766624824607},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766624895604}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766624895605}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766624895605}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624895605}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624895606}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624895606}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624895606}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624895606}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624895607}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624895607}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624895607}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624895608}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624895608}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766624895608}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624895608}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624895608}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624895608}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624895609}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624895609}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624895609}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624895610}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624895610}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624895610}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624895610}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766624895611}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624895612}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624895612}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624895612}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624895612}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624895613}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624895613}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624895613}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624895613}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624895613}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624895614}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766624895614}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766624895614}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624895614}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766624895615}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766624895615}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766624895615}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766624895615}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766624895615}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766624895615}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766624895616}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766624895616}
{"data":{"timestamp":1766624895616},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766624895616},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766624895616},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766624895617},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766624895617},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766624895617},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766624988113,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766625022367}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766625022367}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766625022367}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625022368}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625022369}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625022369}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625022369}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625022369}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625022369}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625022370}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625022370}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625022370}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625022371}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766625022371}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625022371}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625022371}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625022371}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625022371}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625022371}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625022372}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625022372}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625022372}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625022372}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625022372}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766625022373}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625022373}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625022373}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625022373}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625022374}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625022374}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625022374}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625022374}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625022375}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625022375}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625022375}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625022375}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625022376}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625022376}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625022376}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625022376}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625022376}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625022376}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625022377}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625022377}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625022377}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766625022377}
{"data":{"timestamp":1766625022377},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766625022378},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766625022378},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766625022378},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766625022379},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766625022379},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766625062410}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766625062411}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766625062411}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625062412}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625062412}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625062412}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625062413}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625062413}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625062413}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625062413}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625062414}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625062414}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625062414}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766625062414}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625062414}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625062414}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625062415}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625062415}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625062415}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625062415}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625062415}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625062415}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625062416}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625062416}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766625062416}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625062418}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625062418}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625062418}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625062419}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625062419}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625062419}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625062419}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625062419}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625062419}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625062420}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625062420}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625062420}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625062420}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625062421}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625062421}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625062421}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625062422}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625062422}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625062422}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625062422}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766625062423}
{"data":{"timestamp":1766625062423},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766625062423},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766625062423},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766625062423},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766625062424},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766625062424},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766625063197,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766625103158,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766625103158},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766625103159},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766625103159},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766625103582,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766625103582},"hypothesisId":"B","location":"swagger_handler.go:105","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766625103582},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766625103583},"hypothesisId":"A","location":"swagger_handler.go:127","message":"About to read OpenAPI file","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63220,"error":"","hasContent":true,"timestamp":1766625103583},"hypothesisId":"A","location":"swagger_handler.go:135","message":"ReadFile OpenAPI spec result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63220,"firstBytes":"openapi: 3.0.3\r\ninfo:\r\n  title: BizOps360 Go API\r\n  description: |\r\n      API   BizOps360 Go Backend.\r\n    \r\n    ** ","timestamp":1766625103583},"hypothesisId":"B","location":"swagger_handler.go:152","message":"About to unmarshal YAML","runId":"run1","sessionId":"debug-session"}
{"data":{"specDataType":"map[string]interface {}","timestamp":1766625103586},"hypothesisId":"C","location":"swagger_handler.go:171","message":"About to marshal to JSON","runId":"run1","sessionId":"debug-session"}
{"data":{"jsonLength":49130,"timestamp":1766625103588},"hypothesisId":"C","location":"swagger_handler.go:188","message":"OpenAPI spec converted successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/quote/preview","pathLen":24,"rawPath":"","timestamp":1766625105896,"url":"/api/email/quote/preview"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/quote/preview","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766625105896},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before sending email","runId":"run1","sessionId":"debug-session","timestamp":1766625105897}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766625105898}
{"data":{"error":"","messageID":"19b53102780f6b6e","subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"After calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766625106656}
{"data":{"error":"","messageID":"19b53102780f6b6e","saveAsDraft":false,"success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"A","location":"email_handler.go:HandleQuoteEmailPreview","message":"After sending/saving email","runId":"run1","sessionId":"debug-session","timestamp":1766625106656}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766625226114}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766625226114}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766625226114}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625226115}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625226115}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625226115}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625226116}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625226116}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625226116}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625226116}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625226116}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625226117}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625226117}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766625226117}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625226117}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625226117}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625226118}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625226118}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625226118}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625226118}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625226118}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625226119}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625226119}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625226119}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766625226119}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625226120}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625226120}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625226121}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625226121}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625226121}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625226121}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625226122}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625226122}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625226122}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625226122}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625226122}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625226123}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625226123}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625226123}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625226123}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625226124}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625226124}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625226124}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625226125}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625226125}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766625226125}
{"data":{"timestamp":1766625226125},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766625226125},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766625226125},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766625226126},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766625226126},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766625226126},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766625240452}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766625240453}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766625240453}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625240453}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625240454}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625240454}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625240454}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625240454}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625240455}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625240455}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625240455}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625240455}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625240456}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766625240456}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625240456}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625240456}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625240456}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625240457}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625240457}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625240457}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625240458}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625240458}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625240458}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625240458}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766625240458}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625240459}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625240459}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625240459}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625240459}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625240459}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625240460}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625240460}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625240460}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625240460}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625240460}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625240461}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625240461}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625240461}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625240461}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625240461}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625240461}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625240462}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625240462}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625240462}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625240462}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766625240462}
{"data":{"timestamp":1766625240462},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766625240463},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766625240463},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766625240464},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766625240464},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766625240465},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766625263463}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766625263463}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766625263463}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625263464}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625263464}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625263465}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625263465}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625263465}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625263466}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625263466}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625263466}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625263467}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625263467}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766625263467}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625263467}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625263468}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625263468}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625263468}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625263468}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625263468}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625263469}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625263469}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625263469}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625263469}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766625263470}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625263470}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625263471}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625263471}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625263471}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625263471}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625263471}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625263471}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625263471}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625263472}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625263472}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625263473}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625263473}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625263474}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625263474}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625263475}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625263475}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625263475}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625263475}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625263475}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625263475}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766625263475}
{"data":{"timestamp":1766625263476},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766625263476},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766625263476},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766625263476},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766625263476},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766625263477},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766625333979}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766625333980}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766625333980}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625333981}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625333982}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625333982}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625333982}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625333982}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625333982}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625333983}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625333983}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625333983}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625333983}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766625333983}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625333984}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625333984}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625333984}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625333984}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625333984}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625333985}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625333985}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625333985}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625333985}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625333985}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766625333985}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625333986}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625333986}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625333987}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625333987}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625333987}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625333987}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625333988}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625333988}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625333988}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625333988}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625333989}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625333989}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625333989}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625333989}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625333989}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625333989}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625333990}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625333990}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625333990}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625333991}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766625333991}
{"data":{"timestamp":1766625333991},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766625333991},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766625333991},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766625333991},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766625333991},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766625333992},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766625334410,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766625348527,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766625348527},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766625348527},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766625348528},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766625349092,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766625349092},"hypothesisId":"B","location":"swagger_handler.go:105","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766625349093},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766625349093},"hypothesisId":"A","location":"swagger_handler.go:127","message":"About to read OpenAPI file","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63220,"error":"","hasContent":true,"timestamp":1766625349093},"hypothesisId":"A","location":"swagger_handler.go:135","message":"ReadFile OpenAPI spec result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63220,"firstBytes":"openapi: 3.0.3\r\ninfo:\r\n  title: BizOps360 Go API\r\n  description: |\r\n      API   BizOps360 Go Backend.\r\n    \r\n    ** ","timestamp":1766625349094},"hypothesisId":"B","location":"swagger_handler.go:152","message":"About to unmarshal YAML","runId":"run1","sessionId":"debug-session"}
{"data":{"specDataType":"map[string]interface {}","timestamp":1766625349098},"hypothesisId":"C","location":"swagger_handler.go:171","message":"About to marshal to JSON","runId":"run1","sessionId":"debug-session"}
{"data":{"jsonLength":49130,"timestamp":1766625349099},"hypothesisId":"C","location":"swagger_handler.go:188","message":"OpenAPI spec converted successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/quote/preview","pathLen":24,"rawPath":"","timestamp":1766625351279,"url":"/api/email/quote/preview"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/quote/preview","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766625351280},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before sending email","runId":"run1","sessionId":"debug-session","timestamp":1766625351280}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766625351281}
{"data":{"error":"","messageID":"19b5313e585f4632","subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"After calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766625352052}
{"data":{"error":"","messageID":"19b5313e585f4632","saveAsDraft":false,"success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"A","location":"email_handler.go:HandleQuoteEmailPreview","message":"After sending/saving email","runId":"run1","sessionId":"debug-session","timestamp":1766625352053}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766625489650}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766625489651}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766625489651}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625489652}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625489652}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625489652}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625489653}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625489653}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625489653}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625489653}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625489653}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625489654}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625489654}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766625489654}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625489654}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625489655}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625489655}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625489655}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625489655}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625489655}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625489655}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625489656}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625489656}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625489656}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766625489656}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625489657}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625489657}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625489657}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625489657}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625489657}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625489658}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625489658}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625489658}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625489658}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625489658}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625489658}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625489659}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625489659}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625489659}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625489659}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625489659}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625489659}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625489659}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625489660}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625489660}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766625489660}
{"data":{"timestamp":1766625489660},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766625489660},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766625489660},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766625489661},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766625489661},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766625489661},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766625507739}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766625507739}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766625507739}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625507740}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625507741}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625507741}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625507741}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625507741}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625507741}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625507742}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625507742}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625507742}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625507742}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766625507742}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625507743}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625507743}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625507743}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625507743}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625507743}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625507744}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625507744}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625507744}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625507744}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625507745}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766625507745}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625507745}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625507746}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625507746}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625507746}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625507746}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625507747}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625507747}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625507748}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625507748}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625507748}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625507749}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625507749}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625507749}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625507749}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625507749}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625507750}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625507750}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625507750}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625507750}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625507750}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766625507751}
{"data":{"timestamp":1766625507751},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766625507752},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766625507752},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766625507752},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766625507753},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766625507753},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766625525419,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766625525420},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766625525420},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766625525420},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766625526303,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766625526304},"hypothesisId":"B","location":"swagger_handler.go:105","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766625526304},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766625526304},"hypothesisId":"A","location":"swagger_handler.go:127","message":"About to read OpenAPI file","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63220,"error":"","hasContent":true,"timestamp":1766625526304},"hypothesisId":"A","location":"swagger_handler.go:135","message":"ReadFile OpenAPI spec result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63220,"firstBytes":"openapi: 3.0.3\r\ninfo:\r\n  title: BizOps360 Go API\r\n  description: |\r\n      API   BizOps360 Go Backend.\r\n    \r\n    ** ","timestamp":1766625526305},"hypothesisId":"B","location":"swagger_handler.go:152","message":"About to unmarshal YAML","runId":"run1","sessionId":"debug-session"}
{"data":{"specDataType":"map[string]interface {}","timestamp":1766625526308},"hypothesisId":"C","location":"swagger_handler.go:171","message":"About to marshal to JSON","runId":"run1","sessionId":"debug-session"}
{"data":{"jsonLength":49130,"timestamp":1766625526310},"hypothesisId":"C","location":"swagger_handler.go:188","message":"OpenAPI spec converted successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/quote/preview","pathLen":24,"rawPath":"","timestamp":1766625528638,"url":"/api/email/quote/preview"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/quote/preview","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766625528638},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before sending email","runId":"run1","sessionId":"debug-session","timestamp":1766625528639}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766625528639}
{"data":{"error":"","messageID":"19b53169821c723b","subject":"[PREVIEW] Party Helpers for Birthday Party - December 25, 2025 - Estimate \u0026 Details for John Doe","success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"After calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766625529353}
{"data":{"error":"","messageID":"19b53169821c723b","saveAsDraft":false,"success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"A","location":"email_handler.go:HandleQuoteEmailPreview","message":"After sending/saving email","runId":"run1","sessionId":"debug-session","timestamp":1766625529354}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766625703429}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766625703429}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766625703429}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625703430}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625703430}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625703430}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625703431}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625703431}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625703431}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625703431}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625703432}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625703432}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625703432}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766625703432}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625703432}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625703433}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625703433}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625703433}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625703433}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625703433}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625703433}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625703433}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625703434}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625703434}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766625703434}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625703435}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625703435}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625703435}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625703435}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625703436}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625703436}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625703437}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625703437}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625703437}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625703437}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625703437}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625703437}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625703438}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625703438}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625703438}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625703438}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625703438}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625703439}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625703439}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625703439}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766625703439}
{"data":{"timestamp":1766625703439},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766625703440},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766625703440},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766625703440},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766625703440},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766625703440},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766625714023}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766625714023}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766625714023}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625714025}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625714025}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625714026}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625714026}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625714026}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625714027}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625714027}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625714028}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625714028}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625714029}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766625714029}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625714029}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625714029}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625714030}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625714030}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625714030}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625714030}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625714030}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625714031}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625714031}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625714031}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766625714031}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625714032}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625714033}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625714034}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625714034}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625714034}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625714034}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625714034}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625714035}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625714035}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625714035}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625714035}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625714036}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625714036}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625714036}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625714037}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625714037}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625714037}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625714037}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625714037}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625714037}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766625714038}
{"data":{"timestamp":1766625714038},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766625714038},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766625714038},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766625714039},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766625714039},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766625714039},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766625744466,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766625744467},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766625744467},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766625744467},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766625746269,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766625746270},"hypothesisId":"B","location":"swagger_handler.go:105","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766625746270},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766625746271},"hypothesisId":"A","location":"swagger_handler.go:127","message":"About to read OpenAPI file","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63220,"error":"","hasContent":true,"timestamp":1766625746271},"hypothesisId":"A","location":"swagger_handler.go:135","message":"ReadFile OpenAPI spec result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63220,"firstBytes":"openapi: 3.0.3\r\ninfo:\r\n  title: BizOps360 Go API\r\n  description: |\r\n      API   BizOps360 Go Backend.\r\n    \r\n    ** ","timestamp":1766625746271},"hypothesisId":"B","location":"swagger_handler.go:152","message":"About to unmarshal YAML","runId":"run1","sessionId":"debug-session"}
{"data":{"specDataType":"map[string]interface {}","timestamp":1766625746274},"hypothesisId":"C","location":"swagger_handler.go:171","message":"About to marshal to JSON","runId":"run1","sessionId":"debug-session"}
{"data":{"jsonLength":49130,"timestamp":1766625746276},"hypothesisId":"C","location":"swagger_handler.go:188","message":"OpenAPI spec converted successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/quote/preview","pathLen":24,"rawPath":"","timestamp":1766625747942,"url":"/api/email/quote/preview"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/quote/preview","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766625747942},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"[PREVIEW] Party Helpers for Birthday Party - June 15, 2026 - Estimate \u0026 Details for John Doe","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before sending email","runId":"run1","sessionId":"debug-session","timestamp":1766625747943}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766625747943}
{"data":{"error":"","messageID":"19b5319f36cb8eb2","subject":"[PREVIEW] Party Helpers for Birthday Party - June 15, 2026 - Estimate \u0026 Details for John Doe","success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"After calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766625748593}
{"data":{"error":"","messageID":"19b5319f36cb8eb2","saveAsDraft":false,"success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"A","location":"email_handler.go:HandleQuoteEmailPreview","message":"After sending/saving email","runId":"run1","sessionId":"debug-session","timestamp":1766625748593}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766625841252}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766625841252}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766625841252}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625841253}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625841253}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625841254}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625841254}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625841254}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625841254}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625841254}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625841254}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625841255}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625841255}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766625841255}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625841255}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625841255}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625841255}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625841256}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625841256}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625841256}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625841256}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625841256}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625841256}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625841257}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766625841257}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625841258}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625841258}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625841259}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625841259}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625841259}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625841259}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625841259}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625841260}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625841260}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625841260}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625841260}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625841260}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625841261}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625841261}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625841261}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625841261}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625841261}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625841261}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625841262}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625841262}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766625841262}
{"data":{"timestamp":1766625841262},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766625841262},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766625841263},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766625841263},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766625841263},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766625841263},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766625888403}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766625888404}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766625888404}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625888404}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625888404}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625888405}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625888405}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625888405}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625888406}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625888406}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625888406}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625888407}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625888407}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766625888407}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625888407}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625888407}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625888408}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625888408}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625888408}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625888408}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625888408}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625888408}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625888408}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625888409}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766625888409}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625888410}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625888410}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625888410}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625888410}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625888410}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625888410}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625888411}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625888411}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625888411}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625888411}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766625888411}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766625888412}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625888412}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766625888412}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766625888412}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766625888412}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766625888412}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766625888413}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766625888413}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766625888413}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766625888413}
{"data":{"timestamp":1766625888413},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766625888413},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766625888414},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766625888414},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766625888414},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766625888414},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766625888864,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/quote/preview","pathLen":24,"rawPath":"","timestamp":1766625904816,"url":"/api/email/quote/preview"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/quote/preview","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766625904816},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"[PREVIEW] Party Helpers for Birthday Party - June 15, 2026 - Estimate \u0026 Details for John Doe","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before sending email","runId":"run1","sessionId":"debug-session","timestamp":1766625904817}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766625904817}
{"data":{"error":"","messageID":"19b531c5698d929b","subject":"[PREVIEW] Party Helpers for Birthday Party - June 15, 2026 - Estimate \u0026 Details for John Doe","success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"After calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766625905495}
{"data":{"error":"","messageID":"19b531c5698d929b","saveAsDraft":false,"success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"A","location":"email_handler.go:HandleQuoteEmailPreview","message":"After sending/saving email","runId":"run1","sessionId":"debug-session","timestamp":1766625905496}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766626029223}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766626029223}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766626029224}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626029225}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626029225}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626029225}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626029226}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626029226}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626029226}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626029226}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626029226}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626029227}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626029228}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766626029228}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626029228}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626029228}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626029228}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626029228}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626029229}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626029229}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626029229}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626029229}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626029229}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626029229}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766626029230}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626029230}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626029230}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626029231}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626029231}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626029231}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626029231}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626029231}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626029231}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626029231}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626029231}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626029232}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626029232}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626029232}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626029232}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626029232}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626029232}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626029233}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626029233}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626029233}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626029233}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766626029233}
{"data":{"timestamp":1766626029233},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766626029233},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766626029234},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766626029234},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766626029234},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766626029234},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766626045043}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766626045043}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766626045044}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626045044}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626045045}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626045045}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626045045}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626045045}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626045045}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626045046}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626045046}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626045046}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626045047}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766626045047}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626045047}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626045047}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626045047}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626045048}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626045048}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626045048}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626045048}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626045048}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626045048}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626045048}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766626045049}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626045049}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626045050}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626045050}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626045050}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626045050}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626045050}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626045051}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626045051}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626045051}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626045052}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626045053}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626045054}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626045054}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626045054}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626045054}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626045054}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626045054}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626045054}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626045055}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626045055}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766626045055}
{"data":{"timestamp":1766626045055},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766626045055},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766626045056},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766626045056},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766626045056},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766626045056},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766626057364}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766626057364}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766626057365}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626057365}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626057365}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626057366}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626057366}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626057366}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626057366}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626057366}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626057367}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626057367}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626057367}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766626057368}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626057368}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626057368}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626057368}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626057369}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626057369}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626057369}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626057369}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626057369}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626057369}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626057370}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766626057370}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626057371}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626057371}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626057371}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626057371}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626057371}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626057371}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626057372}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626057372}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626057372}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626057372}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626057373}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626057373}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626057373}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626057373}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626057373}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626057374}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626057374}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626057374}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626057374}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626057374}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766626057374}
{"data":{"timestamp":1766626057374},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766626057375},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766626057375},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766626057375},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766626057375},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766626057375},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766626063234,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766626063234},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766626063234},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766626063234},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766626063981,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766626063982},"hypothesisId":"B","location":"swagger_handler.go:105","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766626063982},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766626063982},"hypothesisId":"A","location":"swagger_handler.go:127","message":"About to read OpenAPI file","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63220,"error":"","hasContent":true,"timestamp":1766626063982},"hypothesisId":"A","location":"swagger_handler.go:135","message":"ReadFile OpenAPI spec result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63220,"firstBytes":"openapi: 3.0.3\r\ninfo:\r\n  title: BizOps360 Go API\r\n  description: |\r\n      API   BizOps360 Go Backend.\r\n    \r\n    ** ","timestamp":1766626063983},"hypothesisId":"B","location":"swagger_handler.go:152","message":"About to unmarshal YAML","runId":"run1","sessionId":"debug-session"}
{"data":{"specDataType":"map[string]interface {}","timestamp":1766626063985},"hypothesisId":"C","location":"swagger_handler.go:171","message":"About to marshal to JSON","runId":"run1","sessionId":"debug-session"}
{"data":{"jsonLength":49130,"timestamp":1766626063987},"hypothesisId":"C","location":"swagger_handler.go:188","message":"OpenAPI spec converted successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/quote/preview","pathLen":24,"rawPath":"","timestamp":1766626066021,"url":"/api/email/quote/preview"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/quote/preview","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766626066022},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"[PREVIEW] Party Helpers for Birthday Party - June 15, 2026 - Estimate \u0026 Details for John Doe","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before sending email","runId":"run1","sessionId":"debug-session","timestamp":1766626066022}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766626066023}
{"data":{"error":"","messageID":"19b531eccc803f85","subject":"[PREVIEW] Party Helpers for Birthday Party - June 15, 2026 - Estimate \u0026 Details for John Doe","success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"After calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766626066714}
{"data":{"error":"","messageID":"19b531eccc803f85","saveAsDraft":false,"success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"A","location":"email_handler.go:HandleQuoteEmailPreview","message":"After sending/saving email","runId":"run1","sessionId":"debug-session","timestamp":1766626066715}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766626170827}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766626170828}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766626170828}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626170828}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626170829}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626170829}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626170829}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626170829}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626170830}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626170830}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626170830}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626170830}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626170830}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766626170830}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626170831}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626170831}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626170831}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626170831}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626170831}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626170831}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626170831}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626170832}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626170832}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626170832}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766626170832}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626170834}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626170834}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626170834}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626170834}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626170834}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626170835}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626170835}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626170835}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626170835}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626170835}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626170835}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626170835}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626170836}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626170836}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626170836}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626170836}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626170836}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626170837}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626170837}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626170837}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766626170837}
{"data":{"timestamp":1766626170837},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766626170837},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766626170837},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766626170838},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766626170838},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766626170838},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766626208931}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766626208932}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766626208932}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626208933}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626208934}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626208934}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626208934}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626208934}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626208935}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626208935}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626208935}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626208935}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626208935}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766626208935}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626208936}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626208936}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626208936}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626208936}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626208936}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626208936}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626208936}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626208937}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626208937}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626208937}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766626208937}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626208938}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626208939}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626208939}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626208939}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626208939}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626208940}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626208940}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626208940}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626208940}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626208941}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626208941}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626208941}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626208941}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626208942}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626208942}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626208943}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626208943}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626208943}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626208943}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626208943}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766626208943}
{"data":{"timestamp":1766626208944},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766626208944},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766626208944},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766626208944},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766626208944},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766626208944},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","pathLen":8,"rawPath":"","timestamp":1766626209067,"url":"/swagger"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/swagger","timestamp":1766626209068},"hypothesisId":"B","location":"swagger_handler.go:32","message":"HandleSwaggerUI called","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"error":"","hasContent":true,"timestamp":1766626209068},"hypothesisId":"C","location":"swagger_handler.go:48","message":"ReadFile swagger-ui.html result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":5409,"firstChars":"\u003c!DOCTYPE html\u003e\r\n\u003chtml lang=\"en\"\u003e\r\n\u003chead\u003e\r\n    \u003cmeta charset=\"UTF-8\"\u003e\r\n    \u003cmeta name=\"viewport\" con","timestamp":1766626209068},"hypothesisId":"C","location":"swagger_handler.go:66","message":"Writing Swagger UI HTML to response","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766626209345,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/openapi.json","pathLen":17,"rawPath":"","timestamp":1766626209759,"url":"/api/openapi.json"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"/api/openapi.json","timestamp":1766626209760},"hypothesisId":"B","location":"swagger_handler.go:105","message":"HandleOpenAPISpec called","runId":"run1","sessionId":"debug-session"}
{"data":{"isGet":true,"isHead":false,"isOptions":false,"method":"GET","methodGet":"GET","methodHead":"HEAD","methodOptions":"OPTIONS","timestamp":1766626209760},"hypothesisId":"F","location":"swagger_handler.go:99","message":"Method check","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766626209760},"hypothesisId":"A","location":"swagger_handler.go:127","message":"About to read OpenAPI file","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63220,"error":"","hasContent":true,"timestamp":1766626209760},"hypothesisId":"A","location":"swagger_handler.go:135","message":"ReadFile OpenAPI spec result","runId":"run1","sessionId":"debug-session"}
{"data":{"contentLength":63220,"firstBytes":"openapi: 3.0.3\r\ninfo:\r\n  title: BizOps360 Go API\r\n  description: |\r\n      API   BizOps360 Go Backend.\r\n    \r\n    ** ","timestamp":1766626209760},"hypothesisId":"B","location":"swagger_handler.go:152","message":"About to unmarshal YAML","runId":"run1","sessionId":"debug-session"}
{"data":{"specDataType":"map[string]interface {}","timestamp":1766626209764},"hypothesisId":"C","location":"swagger_handler.go:171","message":"About to marshal to JSON","runId":"run1","sessionId":"debug-session"}
{"data":{"jsonLength":49130,"timestamp":1766626209764},"hypothesisId":"C","location":"swagger_handler.go:188","message":"OpenAPI spec converted successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/quote/preview","pathLen":24,"rawPath":"","timestamp":1766626212236,"url":"/api/email/quote/preview"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/quote/preview","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766626212237},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"[PREVIEW] Party Helpers for Birthday Party - June 15, 2026 - Estimate \u0026 Details for John Doe","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before sending email","runId":"run1","sessionId":"debug-session","timestamp":1766626212237}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766626212237}
{"data":{"error":"","messageID":"19b532108f2ab2df","subject":"[PREVIEW] Party Helpers for Birthday Party - June 15, 2026 - Estimate \u0026 Details for John Doe","success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"After calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766626213052}
{"data":{"error":"","messageID":"19b532108f2ab2df","saveAsDraft":false,"success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"A","location":"email_handler.go:HandleQuoteEmailPreview","message":"After sending/saving email","runId":"run1","sessionId":"debug-session","timestamp":1766626213052}
{"data":{"method":"POST","path":"/api/email/quote/preview","pathLen":24,"rawPath":"","timestamp":1766626286108,"url":"/api/email/quote/preview"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/quote/preview","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766626286108},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"[PREVIEW] Party Helpers for Birthday Party - June 15, 2026 - Estimate \u0026 Details for John Doe","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before sending email","runId":"run1","sessionId":"debug-session","timestamp":1766626286109}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766626286109}
{"data":{"error":"","messageID":"19b5322272867f16","subject":"[PREVIEW] Party Helpers for Birthday Party - June 15, 2026 - Estimate \u0026 Details for John Doe","success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"After calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766626286388}
{"data":{"error":"","messageID":"19b5322272867f16","saveAsDraft":false,"success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"A","location":"email_handler.go:HandleQuoteEmailPreview","message":"After sending/saving email","runId":"run1","sessionId":"debug-session","timestamp":1766626286389}
{"data":{"envFileExists":true,"envFilePath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\.env","workingDir":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go"},"hypothesisId":"H1","location":"config.go:LoadConfig","message":"Before godotenv.Load - checking .env file","runId":"run1","sessionId":"debug-session","timestamp":1766626627002}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","gmailFromSet":true,"gmailFromValue":"team@stlpartyhelpers.com","godotenvError":false,"godotenvErrorMsg":""},"hypothesisId":"H1,H5","location":"config.go:LoadConfig","message":"After godotenv.Load - GMAIL env vars","runId":"run1","sessionId":"debug-session","timestamp":1766626627003}
{"data":{"containsBracket":false,"hasValue":true,"key":"PORT","length":4,"rawValue":"8080"},"hypothesisId":"A","location":"config.go:getEnv","message":"PORT env var raw value","runId":"run1","sessionId":"debug-session","timestamp":1766626627003}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626627004}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626627004}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626627004}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626627004}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626627004}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626627005}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626627005}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626627005}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626627005}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626627006}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Attempting to create Gmail sender","runId":"run1","sessionId":"debug-session","timestamp":1766626627006}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626627006}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626627006}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626627006}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626627007}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626627007}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626627007}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626627007}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626627007}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626627007}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626627008}
{"data":{},"hypothesisId":"H1,H2,H3,H4,H5","location":"email_handler.go:NewEmailHandler","message":"Gmail sender created successfully","runId":"run1","sessionId":"debug-session","timestamp":1766626627008}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626627008}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626627009}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626627010}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626627010}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626627010}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626627062}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626627063}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626627063}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626627063}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626627063}
{"data":{"gmailCredsLength":54,"gmailCredsSet":true,"gmailCredsValue":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H1,H2,H3","location":"gmail.go:NewGmailSender","message":"Checking GMAIL_CREDENTIALS_JSON env var","runId":"run1","sessionId":"debug-session","timestamp":1766626627064}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileExists":true,"isFile":true,"statError":""},"hypothesisId":"H2,H3,H4","location":"gmail.go:NewGmailSender","message":"Checking if credentials path is a file","runId":"run1","sessionId":"debug-session","timestamp":1766626627065}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json"},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Attempting to read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626627065}
{"data":{"credentialsPath":"C:/Windows/Temp/gmail-credentials-20251223-032528.json","fileSize":2395},"hypothesisId":"H4","location":"gmail.go:NewGmailSender","message":"Successfully read credentials file","runId":"run1","sessionId":"debug-session","timestamp":1766626627065}
{"data":{"credsDataLength":2395,"requestedScope":"https://www.googleapis.com/auth/gmail.modify"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before JWT config creation - checking scope","runId":"run1","sessionId":"debug-session","timestamp":1766626627065}
{"data":{"jwtConfigError":"","jwtConfigSuccess":true,"serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After JWT config creation","runId":"run1","sessionId":"debug-session","timestamp":1766626627065}
{"data":{"gmailFromEnv":"team@stlpartyhelpers.com","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"C","location":"gmail.go:NewGmailSender","message":"Checking impersonation email","runId":"run1","sessionId":"debug-session","timestamp":1766626627065}
{"data":{"impersonateEmail":"team@stlpartyhelpers.com","scope":"https://www.googleapis.com/auth/gmail.modify","serviceAccountEmail":"email-service-sa@bizops360-email-dev.iam.gserviceaccount.com"},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"Before creating OAuth2 client - will trigger token fetch","runId":"run1","sessionId":"debug-session","timestamp":1766626627065}
{"data":{"clientCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating OAuth2 client - token fetch completed","runId":"run1","sessionId":"debug-session","timestamp":1766626627066}
{"data":{"error":"","serviceCreated":true},"hypothesisId":"A,B","location":"gmail.go:NewGmailSender","message":"After creating Gmail service","runId":"run1","sessionId":"debug-session","timestamp":1766626627066}
{"data":{"addrLength":5,"port":"8080","portLength":4,"serverAddr":":8080"},"hypothesisId":"C","location":"main.go:57","message":"Server address construction","runId":"run1","sessionId":"debug-session","timestamp":1766626627066}
{"data":{"timestamp":1766626627066},"hypothesisId":"A","location":"router.go:65","message":"Router.Handler called - registering routes","runId":"run1","sessionId":"debug-session"}
{"data":{"absPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","path":"./docs/api/openapi-ru.yaml","timestamp":1766626627066},"hypothesisId":"D","location":"swagger_handler.go:201","message":"OpenAPI file found","runId":"run1","sessionId":"debug-session"}
{"data":{"openAPIPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go\\docs\\api\\openapi-ru.yaml","timestamp":1766626627066},"hypothesisId":"D","location":"router.go:70","message":"GetOpenAPIPath result","runId":"run1","sessionId":"debug-session"}
{"data":{"routes":["/swagger","/swagger-ui","/swagger/","/api/openapi.json","/api/openapi.yaml"],"timestamp":1766626627066},"hypothesisId":"A","location":"router.go:78","message":"Swagger routes registered","runId":"run1","sessionId":"debug-session"}
{"data":{"handlerExists":true,"handlerMethodExists":true,"timestamp":1766626627067},"hypothesisId":"F","location":"router.go:152","message":"Registering /api/stripe/final-invoice/with-email route","runId":"run1","sessionId":"debug-session"}
{"data":{"timestamp":1766626627067},"hypothesisId":"F","location":"router.go:153","message":"Route /api/stripe/final-invoice/with-email registered successfully","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"GET","path":"/api/health","pathLen":11,"rawPath":"","timestamp":1766626627412,"url":"/api/health"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"method":"POST","path":"/api/email/quote/preview","pathLen":24,"rawPath":"","timestamp":1766626657118,"url":"/api/email/quote/preview"},"hypothesisId":"B","location":"router.go:185","message":"ServeMux routing request","runId":"run1","sessionId":"debug-session"}
{"data":{"cwd":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\go","logPath":"C:\\Users\\Alexey\\Code\\biz-operating-system\\stlph\\.cursor\\debug.log","method":"POST","path":"/api/email/quote/preview","svcKeyLength":18,"svcKeyPrefix":"test-api-k...","svcKeySet":true,"timestamp":1766626657119},"hypothesisId":"G","location":"api_key.go:17","message":"APIKeyMiddleware ENTRY - SERVICE_API_KEY check","runId":"run1","sessionId":"debug-session"}
{"data":{"subject":"[PREVIEW] Party Helpers for Birthday Party - June 15, 2026 - Estimate \u0026 Details for John Doe","to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com","userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before sending email","runId":"run1","sessionId":"debug-session","timestamp":1766626657119}
{"data":{"userEmail":"team@stlpartyhelpers.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"Before calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766626657120}
{"data":{"error":"","messageID":"19b5327d2f82ea6b","subject":"[PREVIEW] Party Helpers for Birthday Party - June 15, 2026 - Estimate \u0026 Details for John Doe","success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"C","location":"gmail.go:SendEmail","message":"After calling Messages.Send API","runId":"run1","sessionId":"debug-session","timestamp":1766626657959}
{"data":{"error":"","messageID":"19b5327d2f82ea6b","saveAsDraft":false,"success":true,"to":"bizops-dev-alexey-at-shevelyov-dot-com@shevelyov.com"},"hypothesisId":"A","location":"email_handler.go:HandleQuoteEmailPreview","message":"After sending/saving email","runId":"run1","sessionId":"debug-session","timestamp":1766626657960}
