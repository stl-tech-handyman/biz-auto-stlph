# Swagger OpenAPI UI - Полная настройка

## Что нужно сделать

### 1. Перезапустить основной сервер

Основной сервер на порту 8080 нужно перезапустить с новым кодом:

```powershell
# Остановите текущий сервер (Ctrl+C)
# Затем запустите заново:
cd go
.\start-local.ps1
```

### 2. Открыть Swagger UI

После перезапуска сервера откройте в браузере:

```
http://localhost:8080/swagger
```

или

```
http://localhost:8080/swagger-ui
```

## Что включено в Swagger UI

✅ **Полная документация API** - все endpoints с описаниями  
✅ **Интерактивное тестирование** - можно тестировать API прямо в браузере  
✅ **Управление API Key** - ввод API ключа в правом верхнем углу  
✅ **Автоматическое добавление заголовков** - API ключ добавляется автоматически  
✅ **Поддержка всех методов** - GET, POST, PUT, DELETE, PATCH  
✅ **Валидация запросов** - проверка параметров перед отправкой  
✅ **Просмотр ответов** - полные ответы сервера с форматированием  

## Доступные endpoints

- `/swagger` - Swagger UI (основной)
- `/swagger-ui` - Swagger UI (альтернативный путь)
- `/api/openapi.json` - OpenAPI спецификация в JSON
- `/api/openapi.yaml` - OpenAPI спецификация в YAML

## Использование

1. **Откройте Swagger UI** в браузере
2. **Введите API Key** в правом верхнем углу: `test-api-key-12345`
3. **Нажмите "Set & Reload"**
4. **Найдите нужный endpoint** в списке
5. **Нажмите "Try it out"**
6. **Заполните параметры**
7. **Нажмите "Execute"**
8. **Просмотрите результат**

## Если не работает

1. Проверьте, что сервер запущен:
   ```bash
   curl http://localhost:8080/api/health
   ```

2. Проверьте, что OpenAPI spec доступен:
   ```bash
   curl http://localhost:8080/api/openapi.json
   ```

3. Проверьте логи сервера на наличие ошибок

4. Убедитесь, что файл OpenAPI существует:
   ```bash
   ls go/docs/api/openapi-ru.yaml
   ```

